(this["webpackJsonpbioviz-web-client"]=this["webpackJsonpbioviz-web-client"]||[]).push([[0],{140:function(e,t,a){e.exports=a.p+"static/media/1.eff3baf8.jpg"},141:function(e,t,a){e.exports=a.p+"static/media/2.a44f7dee.jpg"},142:function(e,t,a){e.exports=a.p+"static/media/3.7d298726.png"},146:function(e,t,a){e.exports=a.p+"static/media/MSA.f1cd5369.png"},147:function(e,t,a){e.exports=a.p+"static/media/pw.26d40194.png"},148:function(e,t,a){e.exports=a.p+"static/media/game.f98482e5.jpg"},178:function(e,t,a){e.exports=a(191)},183:function(e,t,a){},184:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),i=(a(183),a(184),a(269)),o=a(280),s=a(281),u=a(156),m=a(153),d=a.n(m),p=a(270),g=a(44),E=a(243),h=a(22),b=a(283),f=a(5),v=a(248),y=a(193),A=a(249),S=a(250),T=a(247),w=a(246),O=a(131),C=a.n(O),x=a(130),N=a.n(x),I=a(43),k=a.n(I),j=a(251),q=a(252),_=function(e){return{type:"SET_DRAWER_OPEN",payload:e}},M=function(e){return{type:"SET_THEME",payload:e}},P=Object(E.a)((function(e){return{toolbar:e.mixins.toolbar,navItem:{paddingTop:0,paddingBottom:0,margin:"auto",marginBottom:10,borderWidth:2,borderColor:"blue",borderRadius:30,width:270},navItemSelected:{borderStyle:"solid",backgroundColor:"#00000020"}}}));function G(e){var t,a=P(),n=Object(f.b)(),l=Object(f.c)((function(e){return e.mode}));"dark"===Object(f.c)((function(e){return e.currentTheme}))&&(t=!0);var c=[["Home","Homepage with instructions",r.a.createElement(N.a,{key:"0"})],["PairAlign","Align a pair of sequences",r.a.createElement(w.a,{key:"1"},r.a.createElement("img",{src:k.a,alt:"PairAlign Icon"}))],["MSA","Align multiple sequences",r.a.createElement("span",{key:"2"}," ",r.a.createElement(w.a,null,r.a.createElement("img",{src:k.a,alt:"MSA Icon"})),r.a.createElement(w.a,null,r.a.createElement("img",{src:k.a,alt:"MSA Icon"})))],["Alignment Game","Test your skill on detecting alignments",r.a.createElement(C.a,{key:"3"})]];return r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(T.a,null),r.a.createElement(v.a,null,c.map((function(t,c){return r.a.createElement(y.a,{className:"".concat(a.navItem," ").concat(c===l?a.navItemSelected:null),button:!0,key:t[0],onClick:function(){n({type:"SET_MODE",payload:c}),e.closeDrawer()}},r.a.createElement(A.a,null,t[2]),r.a.createElement(S.a,{primary:t[0],primaryTypographyProps:{variant:"h6"},secondary:t[1]}))}))),r.a.createElement(T.a,null),r.a.createElement("div",{style:{textAlign:"center",marginTop:3}},r.a.createElement(j.a,{control:r.a.createElement(q.a,{checked:t,onChange:function(e){!0===e.target.checked?n(M("dark")):n(M("light"))},name:"themeValue",color:"primary"}),label:"Dark Mode"})))}var B=a(8),R=function(e){return{type:"SET_P1",payload:e}},D=function(e){return{type:"SET_P1_RANGE",payload:e}},H=function(e){return{type:"SET_P1_NAME",payload:e}},L=function(e){return{type:"SET_P2",payload:e}},W=function(e){return{type:"SET_P2_RANGE",payload:e}},F=function(e){return{type:"SET_P2_NAME",payload:e}},z=a(17),U=a.n(z),Y=a(25),V=a(290),X=a(255),Q=function(e){return new Promise((function(t,a){if(">"===e.charAt(0)){var n=(e=e.trim()).split("\n");if(n.length<2)t({description:"",sequence:"",status:!1});else{var r=n.shift().slice(1).trim(),l=n.join("").replace(/(\r\n|\n|\r)/gm,"").trim().toUpperCase();t(l.match(/^[A-Za-z]+$/)?{description:r,sequence:l,status:!0}:{description:"",sequence:"",status:!1})}}else t({description:"",sequence:"",status:!1})}))};function $(e){var t,a=Object(f.b)(),n=function(){var n=Object(Y.a)(U.a.mark((function n(r){var l,c;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.result,n.next=3,Q(l);case 3:c=n.sent,"MSA"===e.type?(a(e.inputHandler(c.sequence,e.MSAkey)),a(e.nameInputHandler(c.description,e.MSAkey))):(a(e.inputHandler(c.sequence)),a(e.nameInputHandler(c.description)));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(e){t.abort(),console.log(e)};return r.a.createElement("div",{className:"upload-expense"},r.a.createElement(V.a,{title:".txt file in single sequence FASTA format",interactive:!0,arrow:!0},r.a.createElement(X.a,{variant:"contained",color:"primary",component:"label",size:"small"},"Upload Text File",r.a.createElement("input",{type:"file",id:"file",className:"input-file",accept:".txt",onChange:function(e){var a;(a=e.target.files[0])&&((t=new FileReader).onerror=l,t.onloadend=n,"txt"===a.name.split(".").pop().toLowerCase()?t.readAsText(a):console.log("invalid file type"))},style:{display:"none"}}))))}var K=a(256);function J(e,t){return""===e||(a="DNA"===t?/^[AGCTagct]+$/:/^[ABCDEFGHIKLMNPQRSTVWXYZabcdefghiklmnpqrstvwxyz]+$/,!!e.match(a));var a}function Z(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.genomeType})),l=Object(n.useState)(!1),c=Object(B.a)(l,2),i=c[0],o=c[1];Object(n.useEffect)((function(){o(!J(e.value,a))}),[a,e.value]);var s=e.value;return r.a.createElement("div",null,r.a.createElement(K.a,{fullWidth:!0,multiline:!0,rowsMax:4,placeholder:"Type your genome sequence",label:"Type your genome sequence",value:s,onChange:function(n){o(!J(n.target.value.trim(),a)),"MSA"===e.type?t(e.inputHandler(n.target.value.trim().toUpperCase(),e.MSAkey)):t(e.inputHandler(n.target.value.trim().trim().toUpperCase()))},error:i,helperText:i?"Invalid ".concat(a," sequence"):null,inputProps:{spellCheck:"false"}}))}var ee=a(133),te=a.n(ee),ae=a(257),ne=function(){var e=Object(Y.a)(U.a.mark((function e(t,a,n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},fetch(t,r).then(function(){var e=Object(Y.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=7;break}return e.next=3,t.clone().json();case 3:a=e.sent,n({error:void 0,response:a}),e.next=8;break;case 7:n({error:t.status});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n({error:-1})}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(Y.a)(U.a.mark((function e(t,a,n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.length>0&&(t=t.concat("?"),a.forEach((function(e){t=t.concat("".concat(e[0],"=").concat(e[1],"&"))})),t=t.slice(0,-1)),fetch(t,{method:"GET"}).then(function(){var e=Object(Y.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=7;break}return e.next=3,t.clone().json();case 3:a=e.sent,n({error:void 0,response:a}),e.next=8;break;case 7:n({error:t.status});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n({error:-1})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(Y.a)(U.a.mark((function e(t,a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://rest.ensembl.org/sequence/id/".concat(t),r=[["content-type","application/json"]],e.next=4,re(n,r,a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ce=a(258),ie=function(e){return{type:"SET_SNACKBAR_MESSAGE",payload:{message:e}}};function oe(e){var t=Object(f.b)(),a=Object(n.useState)("ENSG00000248378"),l=Object(B.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(!1),s=Object(B.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(B.a)(d,2),E=p[0],h=p[1],b=function(a){m(!1),void 0===a.error?("MSA"===e.type?t(e.inputHandler(a.response.seq.trim().toUpperCase(),e.MSAkey)):t(e.inputHandler(a.response.seq.trim().toUpperCase())),h(!1)):400===a.error?h(!0):(h(!1),t(ie("Importing data from API failed. Try again later")))};return r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0},r.a.createElement(ae.a,{item:!0},r.a.createElement(K.a,{label:"Ensembl id",variant:"outlined",value:c,disabled:u,error:E,helperText:E?"Could not find id":null,onChange:function(e){h(!1),i(e.target.value)}})),r.a.createElement(ae.a,{item:!0},r.a.createElement("div",{style:{marginLeft:3,width:170}},u?r.a.createElement(ce.a,{thickness:5}):r.a.createElement(V.a,{title:r.a.createElement(r.a.Fragment,null,"Search sequence id in  \xa0",r.a.createElement("a",{href:"https://www.ensembl.org/",target:"_blank",rel:"noopener noreferrer",style:{color:"white"}},"ensembl.org"),"\xa0 genome browser"),interactive:!0,arrow:!0},r.a.createElement(X.a,{onClick:function(){m(!0),le(c,b)}},r.a.createElement(g.a,{variant:"button"},"Search in Ensembl Database")))))))}var se=a(34),ue=a(291),me=a(194),de=Object(E.a)({root:{width:300,marginLeft:"50%",marginTop:20},input:{width:50}});function pe(e){return"".concat(e)}function ge(e){var t=Object(f.b)(),a=de(),n=e.range,l=function(a){return function(r){var l=""===r.target.value?"":Number(r.target.value),c=Object(se.a)(n);c[a]=l,"MSA"===e.type?t(e.rangeInputHandler(c,e.MSAkey)):t(e.rangeInputHandler(c))}};return r.a.createElement("div",{className:a.root},r.a.createElement(V.a,{title:"Select a segment from the sequence",placement:"right",interactive:!0,arrow:!0},r.a.createElement("b",null,"Select required range in the sequence")),r.a.createElement(ue.a,{value:n,min:Math.min(1,e.sequenceLength),max:e.sequenceLength,step:1,onChange:function(a,n){"MSA"===e.type?t(e.rangeInputHandler(n,e.MSAkey)):t(e.rangeInputHandler(n))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:pe}),r.a.createElement(ae.a,{container:!0,spacing:5,align:"center",justify:"center",alignItems:"center"},r.a.createElement(ae.a,{item:!0},"Left",r.a.createElement("br",null),r.a.createElement(me.a,{className:a.input,value:n[0],label:"Left",onChange:l(0),inputProps:{min:Math.min(1,e.sequenceLength),max:e.sequenceLength,type:"number","aria-labelledby":"input-slider"}})),r.a.createElement(ae.a,{item:!0},"Right",r.a.createElement("br",null),r.a.createElement(me.a,{className:a.input,value:n[1],label:"Right",onChange:l(1),inputProps:{min:Math.min(1,e.sequenceLength),max:e.sequenceLength,type:"number","aria-labelledby":"input-slider"}}))))}var Ee=Object(E.a)((function(e){return{input:{width:300}}}));function he(e){var t=Ee(),a=Object(f.b)(),n=e.sequenceName;return r.a.createElement("div",null,r.a.createElement(K.a,{className:t.input,label:"Give a unique name for the sequence",value:n,onChange:function(t){"MSA"===e.type?a(e.nameInputHandler(t.target.value.trim(),e.MSAkey)):a(e.nameInputHandler(t.target.value.trim()))}}))}function be(e){var t=Object(f.b)(),a="MSA"===e.type?r.a.createElement(V.a,{title:"Remove this sequence",interactive:!0,arrow:!0,placement:"right"},r.a.createElement(u.a,{onClick:function(){t(e.closeHandler(e.MSAkey))},testid:"MSASeqCloseButton"},r.a.createElement(te.a,{color:"error"}))):"";return r.a.createElement("div",null,r.a.createElement("h3",null,e.title," ",a),r.a.createElement(T.a,{variant:"fullWidth",style:{height:2,color:"black"}}),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:30}},r.a.createElement(he,{nameInputHandler:e.nameInputHandler,MSAkey:e.MSAkey,type:e.type,sequenceName:e.sequenceName})),r.a.createElement(ae.a,{container:!0,spacing:6,justify:"center",alignItems:"center"},r.a.createElement(ae.a,{item:!0},r.a.createElement($,{inputHandler:e.inputHandler,nameInputHandler:e.nameInputHandler,MSAkey:e.MSAkey,value:e.value,type:e.type})),r.a.createElement("b",null,"or"),r.a.createElement(ae.a,{item:!0},r.a.createElement(oe,{inputHandler:e.inputHandler,MSAkey:e.MSAkey,type:e.type})),r.a.createElement("b",null,"or"),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(Z,{inputHandler:e.inputHandler,MSAkey:e.MSAkey,value:e.value,type:e.type}))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(ge,{rangeInputHandler:e.rangeInputHandler,MSAkey:e.MSAkey,range:e.range,type:e.type,sequenceLength:e.value.length})))}var fe=a(285),ve=a(292),ye=a(196),Ae=a(198);function Se(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.pAlgo}));return r.a.createElement("div",null,r.a.createElement(ye.a,{component:"fieldset"},r.a.createElement(Ae.a,{component:"legend"},"Select Algorithm"),r.a.createElement(ve.a,{"aria-label":"algorithm",value:t,name:"algorithm",onChange:function(t){e({type:"SET_P_ALGO",payload:t.target.value})}},r.a.createElement(j.a,{value:"GLOBAL",control:r.a.createElement(fe.a,null),label:"Needleman Wunsch"}),r.a.createElement(j.a,{value:"LOCAL",control:r.a.createElement(fe.a,null),label:"Smith Waterman"}))))}function Te(e){var t=Object(f.b)(),a=Object(f.c)((function(t){return t[e.inputSelector]})),n=r.a.useState(!1),l=Object(B.a)(n,2),c=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(K.a,{error:c,label:e.label,value:a,helperText:c?e.helperText:"",variant:"outlined",type:"number",onChange:function(a){var n=Math.floor(Number(a.target.value));n?"1"===e.acceptedType?n>0?(t(e.inputHandler(n)),i(!1)):(t(e.inputHandler(a.target.value)),i(!0)):"-1"===e.acceptedType&&(n<0?(t(e.inputHandler(n)),i(!1)):(t(e.inputHandler(a.target.value)),i(!0))):(t(e.inputHandler(a.target.value)),i(!0))}}))}var we=function(e){return{type:"SET_MATCH",payload:e}},Oe=function(e){return{type:"SET_MISMATCH",payload:e}},Ce=function(e){return{type:"SET_GAP",payload:e}},xe=function(e){return{type:"SET_GAP_OPEN",payload:e}},Ne=function(e){return{type:"SET_GAP_EXTEND",payload:e}},Ie=function(e,t){return{type:"EDIT_DNA_SIMILARIY_MATRIX",payload:{identifier:e,value:t}}};function ke(e){return r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0,direction:"row",spacing:3},r.a.createElement(ae.a,{item:!0},r.a.createElement(Te,{inputHandler:we,inputSelector:"matchScore",label:"Match Score",helperText:"Must be a positive integer",acceptedType:"1"})),r.a.createElement(ae.a,{item:!0},r.a.createElement(Te,{inputHandler:Oe,inputSelector:"mismatchPenalty",label:"Mismatch Penalty",helperText:"Must be a negative integer",acceptedType:"-1"})),r.a.createElement(ae.a,{item:!0},r.a.createElement(Te,{inputHandler:Ce,inputSelector:"gapPenalty",label:"Gap Penalty",helperText:"Must be a negative integer",acceptedType:"-1"}))))}var je=a(197),qe=a(259),_e=a(203),Me=Object(E.a)((function(e){return{formControl:{minWidth:200}}}));function Pe(){var e=Me(),t=Object(f.b)(),a=Object(f.c)((function(e){return e.tracebackPriority}));return r.a.createElement("div",null,r.a.createElement(ye.a,{variant:"outlined",className:e.formControl},r.a.createElement(je.a,{id:"priority-select-input-label"},"Select Traceback Priority"),r.a.createElement(_e.a,{labelId:"priority-select-input-label",id:"priority-select-input",value:a,onChange:function(e){t({type:"SET_TRACEBACK_PRIORITY",payload:e.target.value})},label:"Select Traceback Priority"},r.a.createElement(qe.a,{value:"LOWROAD"},"Low road"),r.a.createElement(qe.a,{value:"HIGHROAD"},"High road"))))}var Ge=a(199),Be=["A","G","C","T"],Re=Object(E.a)((function(e){return{table:{width:200,height:200,margin:"0 auto"},cell:{borderWidth:1,borderStyle:"solid",minWidth:50}}}));function De(){for(var e,t,a=Re(),n=Object(f.b)(),l=Object(f.c)((function(e){return e.DNASimilarityMatrix})),c=function(e){var t=Math.floor(Number(e.target.value));Number.isInteger(t)?n(Ie(e.target.id,t)):n(Ie(e.target.id,e.target.value))},i=[],o=0;o<Be.length+1;o++){for(var s=[],u=0;u<Be.length+1;u++){var m="".concat(o).concat(u);if(0===o&&0===u)s.push(r.a.createElement("th",{key:m,className:a.cell},"..."));else if(0===o)s.push(r.a.createElement("th",{key:m,className:a.cell},Be[u-1]));else if(0===u)s.push(r.a.createElement("th",{key:m,className:a.cell},Be[o-1]));else{var d=(e=Be[o-1])<(t=Be[u-1])?t.concat(e):e.concat(t);s.push(r.a.createElement("td",{key:m,className:a.cell},r.a.createElement(K.a,{id:d,size:"small",type:"number",onChange:c,value:l[d]})))}}i.push(r.a.createElement("tr",{key:o},s))}return r.a.createElement("div",null,r.a.createElement(b.a,{alignContent:"center",alignItems:"center"},r.a.createElement("table",{className:a.table},r.a.createElement("tbody",null,i))))}var He=Object(E.a)((function(e){return{formControl:{minWidth:250}}}));function Le(){var e=He(),t=Object(f.b)(),a=Object(f.c)((function(e){return e.similarityMatrixName})),n=Object(f.c)((function(e){return e.genomeType})),l=[];l.push(r.a.createElement(qe.a,{key:"DEFAULT",value:"DEFAULT"},"Default")),"DNA"===n?l.push(r.a.createElement(qe.a,{key:"CUSTOM",value:"CUSTOM"},"Custom")):"PROTEIN"===n&&["BLOSUM30","BLOSUM45","BLOSUM50","BLOSUM60","BLOSUM90"].forEach((function(e){l.push(r.a.createElement(qe.a,{key:e,value:e},e))}));var c="DEFAULT"===a?null:r.a.createElement(r.a.Fragment,null," *Note that this matrix will override ",r.a.createElement("br",null),"above match score and mismatch penalty");return r.a.createElement("div",null,r.a.createElement(ye.a,{variant:"outlined",className:e.formControl},r.a.createElement(je.a,{id:"similarity-matrix-name-input-label"},"Select Similarity Matrix Type"),r.a.createElement(_e.a,{labelId:"similarity-matrix-name-input-label",id:"similarity-matrix-name-input",value:a,onChange:function(e){t({type:"SET_SIMILARITY_MATRIX_NAME",payload:e.target.value})},label:"Select Similarity Matrix Type"},l),r.a.createElement(Ge.a,null,c)),"DNA"===n&&"CUSTOM"===a?r.a.createElement(De,null):null)}function We(e){return r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0,direction:"column",spacing:4},r.a.createElement(ae.a,{item:!0,container:!0,direction:"row",spacing:3},r.a.createElement(ae.a,{item:!0},r.a.createElement(Te,{inputHandler:we,inputSelector:"matchScore",label:"Match Score",helperText:"Must be a positive integer",acceptedType:"1"})),r.a.createElement(ae.a,{item:!0},r.a.createElement(Te,{inputHandler:Oe,inputSelector:"mismatchPenalty",label:"Mismatch Penalty",helperText:"Must be a negative integer",acceptedType:"-1"})),r.a.createElement(ae.a,{item:!0},r.a.createElement(Te,{inputHandler:xe,inputSelector:"gapOpenPenalty",label:"Gap Open Penalty",helperText:"Must be a negative integer",acceptedType:"-1"})),r.a.createElement(ae.a,{item:!0},r.a.createElement(Te,{inputHandler:Ne,inputSelector:"gapExtendPenalty",label:"Gap Extend Penalty",helperText:"Must be a negative integer",acceptedType:"-1"})),r.a.createElement(ae.a,{item:!0},r.a.createElement(Pe,null))),r.a.createElement(ae.a,{item:!0},r.a.createElement(Le,null))))}function Fe(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.scoringMethod}));return r.a.createElement("div",null,r.a.createElement(ye.a,{component:"fieldset"},r.a.createElement(Ae.a,{component:"legend"},"Select Scoring Method"),r.a.createElement(ve.a,{"aria-label":"scoring-method",value:t,name:"scoring-method",onChange:function(t){e({type:"SET_SCORING_METHOD",payload:t.target.value})}},r.a.createElement(j.a,{value:"BASIC",control:r.a.createElement(fe.a,null),label:"Basic"}),r.a.createElement(j.a,{value:"EXTENDED",control:r.a.createElement(fe.a,null),label:"Extended"}))))}function ze(){var e="BASIC"===Object(f.c)((function(e){return e.scoringMethod}))?r.a.createElement(ke,null):r.a.createElement(We,null);return r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0,direction:"column",spacing:2},r.a.createElement(ae.a,{item:!0},r.a.createElement(Fe,null)),r.a.createElement(ae.a,{item:!0},e)))}function Ue(){return r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0,direction:"column",spacing:3},r.a.createElement(ae.a,null,r.a.createElement(b.a,{boxShadow:3,padding:5},r.a.createElement(be,{inputHandler:R,rangeInputHandler:D,nameInputHandler:H,value:Object(f.c)((function(e){return e.P1.seq})),range:Object(f.c)((function(e){return e.P1.range})),sequenceName:Object(f.c)((function(e){return e.P1.name})),title:"Input Sequence 1 for Pair Wise Alignment",type:"PA"}))),r.a.createElement(ae.a,null,r.a.createElement(b.a,{boxShadow:3,padding:5},r.a.createElement(be,{inputHandler:L,rangeInputHandler:W,nameInputHandler:F,value:Object(f.c)((function(e){return e.P2.seq})),range:Object(f.c)((function(e){return e.P2.range})),sequenceName:Object(f.c)((function(e){return e.P2.name})),title:"Input Sequence 2 for Pair Wise Alignment",type:"PA"}))),r.a.createElement(ae.a,{item:!0},r.a.createElement(b.a,{boxShadow:3,padding:5},r.a.createElement(Se,null))),r.a.createElement(ae.a,{item:!0},r.a.createElement(b.a,{boxShadow:3,padding:5},r.a.createElement(ze,null)))))}var Ye="https://bioviz-api.herokuapp.com";function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=1===e?Ye+"/pair/nw":Ye+"/pair/sw";return function(){var e=Object(Y.a)(U.a.mark((function e(a,n,r,l,c,i){var o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o={match:r,mismatch:l,gap:c}).seq_a=a,o.seq_b=n,e.next=5,ne(t,o,i);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,l,c){return e.apply(this,arguments)}}()}function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=1===e?Ye+"/pair/nw-affine":Ye+"/pair/sw-affine";return function(){var e=Object(Y.a)(U.a.mark((function e(a,n,r,l,c,i,o,s,u,m,d){var p;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(p={match:r,mismatch:l,priority:o}).seq_a=a,p.seq_b=n,p.opening_gap=c,p.extending_gap=i,p.seq_type=s,p.sub_mat="PROTEIN"===s?u:"DEFAULT"===u?"DEFAULT":m,e.next=9,ne(t,p,d);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r,l,c,i,o,s,u,m){return e.apply(this,arguments)}}()}var Qe=Ve(1),$e=Xe(1),Ke=Ve(2),Je=Xe(2),Ze=a(135),et=a.n(Ze),tt=a(134),at=a.n(tt),nt=a(293),rt=a(40),lt=a(56),ct=a.n(lt),it=Object(E.a)((function(e){return{avatar:{height:"20px",width:"20px",fontSize:"12px"},emptyRow:{height:"25px",textAlign:"center"}}}));function ot(e){var t=it(),a=e.alignment.algn_a,n=e.alignment.algn_b,l=a.length,c=function(l){var c=l.index,i=l.style,o="-"===a.charAt(c)?"gap":e.genomeType.concat("-",a.charAt(c).toUpperCase()),s="-"===n.charAt(c)?"gap":e.genomeType.concat("-",n.charAt(c).toUpperCase()),u=r.a.createElement(nt.a,{variant:"square",className:"".concat(t.avatar," ").concat(ct.a["genome-base"],"\n             ").concat(ct.a[o])},a.charAt(c)),m=r.a.createElement(nt.a,{variant:"square",className:"".concat(t.avatar," ").concat(ct.a["genome-base"],"\n             ").concat(ct.a[s])},n.charAt(c)),d=a.charAt(c)===n.charAt(c)&&"-"!==a.charAt(c)?"|":"";return r.a.createElement("div",{style:i},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,u)),r.a.createElement("tr",{className:t.emptyRow},r.a.createElement("td",null,r.a.createElement("b",null,d))),r.a.createElement("tr",null,r.a.createElement("td",null,m)))))};return r.a.createElement("div",null,r.a.createElement(rt.b,{height:100,itemCount:l,itemSize:20,layout:"horizontal",width:Math.min(500,20*l)},c))}function st(e){var t=e.directions.indexOf(1)>=0?"\u2190":"\xa0\xa0",a=e.directions.indexOf(2)>=0?"\u2196":"\xa0\xa0",n=e.directions.indexOf(3)>=0?"\u2191":"\xa0\xa0";return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n)),r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,e.value)))))}function ut(e){return r.a.createElement("div",null,e.index,r.a.createElement("br",null),e.value)}function mt(e){return r.a.createElement("div",null,e.index," ",e.value)}var dt=Object(E.a)((function(e){return{cell:{display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",borderWidth:1,borderStyle:"solid"},headerCell:{backgroundColor:"#0000FF30"},inpath:{backgroundColor:"lightgreen"},hideScroll:{"&::-webkit-scrollbar":{width:"0.2em",height:"0.2em"},"&::-webkit-scrollbar-button":{background:"#aaa"},"&::-webkit-scrollbar-track-piece":{background:"#000"},"&::-webkit-scrollbar-thumb":{background:"#fff"}},matrix:{borderWidth:1,borderStyle:"solid",padding:10}}}));function pt(e){var t=r.a.createRef(),a=r.a.createRef(),l=r.a.createRef(),c=dt(),i=e.input.seqA.length,o=e.input.seqB.length,s=e.result.score_matrix,u=e.result.direction_matrix,m=e.result.alignments.length>0?e.result.alignments[e.selected].path:[],d=new Set;m.forEach((function(e){d.add("".concat(e[0]).concat(e[1]).concat(e[0]*e[1]))}));Object(n.useEffect)((function(){m.length>0&&l.current.scrollToItem({align:"center",columnIndex:m[m.length-1][1],rowIndex:m[m.length-1][0]})}));var p=function(t){var a=t.columnIndex,n=t.style,l=a,i=0===l?"Seq. 2":r.a.createElement(ut,{value:e.input.seqB[l-1],index:l});return r.a.createElement("div",{style:n,className:"".concat(c.cell," ").concat(c.headerCell)},i)},g=function(t){var a=t.rowIndex,n=t.style,l=a,i=0===l?"Seq. 1":r.a.createElement(mt,{value:e.input.seqA[l-1],index:l});return r.a.createElement("div",{style:n,className:"".concat(c.cell," ").concat(c.headerCell)},i)},E=function(t){var a=t.columnIndex,n=t.rowIndex,l=t.style,i=a,o=n,m=r.a.createElement(st,{value:s[o][i],directions:u[o][i]}),p=d.has("".concat(o).concat(i).concat(o*i));return r.a.createElement("div",{style:l,onClick:function(){e.onClickCell(o,i)},className:"".concat(c.cell," ").concat(p?c.inpath:"")},m)};return r.a.createElement("div",{className:c.matrix},r.a.createElement(ae.a,{container:!0,direction:"row",spacing:1,align:"center",justify:"center",alignItems:"center"},r.a.createElement(ae.a,{item:!0},r.a.createElement("div",{style:{height:40}},"\xa0"),r.a.createElement("br",null),r.a.createElement(rt.a,{className:"Grid",columnCount:1,columnWidth:40,height:300,rowCount:i+1,rowHeight:40,width:40,ref:a,style:{overflowX:"hidden",overflowY:"hidden"}},g)),r.a.createElement(ae.a,{item:!0},r.a.createElement(rt.a,{className:"Grid",columnCount:o+1,columnWidth:40,height:40,rowCount:1,rowHeight:40,width:300,ref:t,style:{overflowX:"hidden",overflowY:"hidden"}},p),r.a.createElement("br",null),r.a.createElement(rt.a,{className:c.hideScroll,columnCount:o+1,columnWidth:40,height:300,rowCount:i+1,rowHeight:40,width:300,ref:l,onScroll:function(e){var n=e.scrollLeft,r=e.scrollTop;t.current.scrollTo({scrollLeft:n}),a.current.scrollTo({scrollTop:r})}},E))))}pt.defaultProps={onClickCell:function(){}};var gt=a(29),Et=function(e,t,a,n){var r="",l="",c=Object(se.a)(a);return n.forEach((function(a){"UP"===a?(r=e.charAt(c[0]-1).concat(r),l="-".concat(l),c[0]--):"LEFT"===a?(r="-".concat(r),l=t.charAt(c[1]-1).concat(l),c[1]--):"DIAG"===a&&(r=e.charAt(c[0]-1).concat(r),l=t.charAt(c[1]-1).concat(l),c[0]--,c[1]--)})),{algn_a:r,algn_b:l}};function ht(e){var t={};t.score_matrix=e.result.score_matrix,t.direction_matrix=e.result.direction_matrix,t.alignments=[{path:[]}];var a=Object(n.useState)(t),l=Object(B.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)([]),s=Object(B.a)(o,2),u=s[0],m=s[1],d=function(e){var t=u.concat([e]);m(t),console.log(t)},p=function(e,t){console.log("adding to path");var a=c,n=a.alignments[0].path.concat([[e,t]]);a.alignments[0].path=n,i(Object(gt.a)({},a))},g=null;if(u.length>0&&c.alignments[0].path.length>0){var E=Object(se.a)(c.alignments[0].path);g=r.a.createElement(ot,{genomeType:e.input.genomeType,alignment:Et(e.input.seqA,e.input.seqB,E[0],u)})}else g=null;return r.a.createElement("div",{style:{marginTop:30}},r.a.createElement(T.a,null),r.a.createElement("h3",null,"Try your own path in DP matrix"),r.a.createElement(ae.a,{align:"center",justify:"center",container:!0,spacing:2},r.a.createElement(ae.a,{item:!0},"Select your own path.",r.a.createElement("br",null),"Click on a cell to add to / remove from path",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pt,{input:e.input,result:c,selected:0,onClickCell:function(t,a){var n=c.alignments[0].path;if(console.log("ineditpath"),0!==n.length){var r=n[n.length-1];if(r[0]===t&&r[1]===a)return function(){console.log("removing from path");var e=c;e.alignments[0].path.pop(),i(Object(gt.a)({},e))}(),void function(){var e=u;e.pop(),m(e),console.log(e)}();var l=e.input.seqA.length,o=e.input.seqB.length;if(t!==l||a!==o||0!==n.length){var s=r[1]===a&&r[0]===t+1,g=r[0]===t&&r[1]===a+1,E=r[0]===t+1&&r[1]===a+1;return t===l&&g?(d("LEFT"),void p(t,a)):a===o&&s?(p(t,a),void d("UP")):s||E||g?(d(s?"UP":E?"DIAG":"LEFT"),void p(t,a)):void 0}p(t,a)}else p(t,a)}}),r.a.createElement("br",null),r.a.createElement(X.a,{onClick:function(){m([]);var e=c;e.alignments[0].path=[],i(Object(gt.a)({},e))}},"Reset Your Path")),r.a.createElement(T.a,{orientation:"vertical",flexItem:!0,style:{marginLeft:20}}),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement("h4",null,"Generated alignment will appear here"),r.a.createElement("br",null),g)))}var bt=a(159),ft=a(93),vt=a(94),yt=a(68),At=a(97),St=a(98),Tt=a(4),wt=["A","G","C","T"],Ot=function(e){Object(St.a)(a,e);var t=Object(At.a)(a);function a(e){var n;return Object(ft.a)(this,a),(n=t.call(this,e)).downloadTxtFile=n.downloadTxtFile.bind(Object(yt.a)(n)),n.sequences=[n.props.input.seqA,n.props.input.seqB],n.sequenceNames=[n.props.input.seqAname,n.props.input.seqBname],n}return Object(vt.a)(a,[{key:"downloadTxtFile",value:function(){var e=document.createElement("a"),t=new Blob([document.getElementById("printable-component").innerText],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="report.txt",document.body.appendChild(e),e.click()}},{key:"render",value:function(){var e,t=this,a=this.props.classes,l=new Date,c=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate()+" "+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds(),i=this.sequences.map((function(e,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement("br",null),">".concat(t.sequenceNames[a]),r.a.createElement("br",null),e,r.a.createElement("br",null))})),o=r.a.createElement("hr",{className:a.line});e="BASIC"===this.props.input.scoringMethod?r.a.createElement(r.a.Fragment,null,"Match Score : ",this.props.input.match,r.a.createElement("br",null),"Mismatch Penalty : ",this.props.input.mismatch,r.a.createElement("br",null),"Gap Penalty : ",this.props.input.gap,r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null,"Match Score : ",this.props.input.match,r.a.createElement("br",null),"Mismatch Penalty : ",this.props.input.mismatch,r.a.createElement("br",null),"Gap Open Penalty : ",this.props.input.gapOpen,r.a.createElement("br",null),"Gap Extend Penalty : ",this.props.input.gapExtend,r.a.createElement("br",null));var s=null;"DNA"===this.props.input.genomeType&&"CUSTOM"===this.props.input.similarityMatrixName&&"EXTENDED"===this.props.input.scoringMethod&&(s=[],wt.forEach((function(e){wt.forEach((function(a){var l=e.concat(a);t.props.input.DNASimilarityMatrix.hasOwnProperty(l)&&s.push(r.a.createElement(n.Fragment,{key:l},l," : ",t.props.input.DNASimilarityMatrix[l],r.a.createElement("br",null)))}))})));var u=this.props.result.alignments.map((function(e,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement("br",null),"Alignment ",a+1,r.a.createElement("br",null),">".concat(t.sequenceNames[0]),r.a.createElement("br",null),e.algn_a,r.a.createElement("br",null),">".concat(t.sequenceNames[1]),r.a.createElement("br",null),e.algn_b,r.a.createElement("br",null),"Identity : ".concat(e.identity),r.a.createElement("br",null),r.a.createElement("br",null))}));return r.a.createElement("div",{className:a.paper,tabIndex:-1},r.a.createElement(X.a,{variant:"outlined",onClick:this.downloadTxtFile},"Download as a text file"),r.a.createElement("div",{id:"printable-component",className:a.printableComponent},"Report created with BioViz",r.a.createElement("br",null),"on ",c,r.a.createElement("br",null),o,r.a.createElement("br",null),"InputSequences",r.a.createElement("div",{className:a.wrapped},i),o,r.a.createElement("br",null),"Scoring method : ",this.props.input.scoringMethod,r.a.createElement("br",null),r.a.createElement("div",null,e),r.a.createElement("br",null),"Similarity Matrix : ",this.props.input.similarityMatrixName,r.a.createElement("br",null),s,r.a.createElement("br",null),o,r.a.createElement("br",null),"Alignments",r.a.createElement("div",null,u)))}}]),a}(n.Component),Ct=Object(Tt.a)((function(e){return{paper:{width:"90%",height:"90%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2)},wrapped:{wordWrap:"break-word"},printableComponent:{overflowY:"auto",height:"90%",padding:e.spacing(2)},line:{width:"100%",textAlign:"left",marginLeft:0}}}))(Ot),xt=["M","I\u2081","I\u2082"],Nt=["\u2190","\u2196","\u2191"],It=["#00000030","#00000060","#00000075"],kt=Object(E.a)((function(e){return{zeroPadding:{"& tr":{"& td":{padding:0}}},table:{"& tbody":{"& tr":{borderWidth:1,borderStyle:"dashed"}},width:"100%",height:"100%",borderSpacing:0}}}));function jt(e){for(var t=kt(),a=[],l=0;l<3;l++){var c="",i=[];e.directions[l].length>0&&0!==e.directions[l][0]&&(c=Nt[e.directions[l][0][1]-1],i=e.directions[l].map((function(e){return xt[e[0]]}))),"-inf"===e.scores[l]&&(e.scores[l]="-\u221e");var o=l===e.inPathSegment?"#00FF0040":It[l];0===l&&(c="",i=[]);var s=r.a.createElement(n.Fragment,{key:l},r.a.createElement("tr",{style:{height:e.cellSize/2,backgroundColor:o}},r.a.createElement("td",{style:{width:e.cellSize,borderRight:"thin dashed"}},c),r.a.createElement("td",{rowSpan:"2",style:{width:2*e.cellSize,fontSize:18}},r.a.createElement("b",null,"".concat(xt[l]," : ").concat(e.scores[l])))),r.a.createElement("tr",{style:{height:e.cellSize/2,backgroundColor:o}},r.a.createElement("td",{style:{width:e.cellSize,borderRight:"thin dashed"}},i.join(" "))));a.push(s)}return r.a.createElement("div",{style:{width:3*e.cellSize,height:3*e.cellSize}},r.a.createElement("table",{className:t.table},r.a.createElement("tbody",{className:t.zeroPadding},a)))}var qt=Object(E.a)((function(e){return{cell:{display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",borderWidth:2,borderStyle:"solid"},inpath:{backgroundColor:"lightgreen"},hideScroll:{"&::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"&::-webkit-scrollbar-button":{background:"#aaa"},"&::-webkit-scrollbar-track-piece":{background:"#000"},"&::-webkit-scrollbar-thumb":{background:"#fff"}},matrix:{borderWidth:1,borderStyle:"solid",padding:10}}}));function _t(e){var t=r.a.createRef(),a=r.a.createRef(),l=r.a.createRef(),c=qt(),i=e.input.seqA.length,o=e.input.seqB.length,s=e.result.score_matrix,u=e.result.direction_matrix,m=e.result.alignments.length>0?e.result.alignments[e.selected].path:[],d=new Set;m.forEach((function(e){d.add("".concat(e[0],"|").concat(e[1],"|").concat(e[2]))}));Object(n.useEffect)((function(){m.length>0&&l.current.scrollToItem({align:"center",columnIndex:m[m.length-1][1],rowIndex:m[m.length-1][0]})}));var p=function(t){var a=t.columnIndex,n=t.style,l=a,i=0===l?"Seq. 2":r.a.createElement(ut,{value:e.input.seqB[l-1],index:l});return r.a.createElement("div",{style:n,className:c.cell},i)},g=function(t){var a=t.rowIndex,n=t.style,l=a,i=0===l?"Seq. 1":r.a.createElement(mt,{value:e.input.seqA[l-1],index:l});return r.a.createElement("div",{style:n,className:c.cell},i)},E=function(e){for(var t,a=e.columnIndex,n=e.rowIndex,l=e.style,i=a,o=n,m=0;m<3;m++)if(d.has("".concat(o,"|").concat(i,"|").concat(m))){t=m;break}var p=r.a.createElement(jt,{scores:s[o][i],directions:u[o][i],cellSize:40,inPathSegment:t});return r.a.createElement("div",{style:l,className:"".concat(c.cell)},p)};return r.a.createElement("div",{className:c.matrix},r.a.createElement(ae.a,{container:!0,direction:"row",spacing:1,align:"center",justify:"center",alignItems:"center"},r.a.createElement(ae.a,{item:!0},r.a.createElement("div",{style:{height:40}},"\xa0"),r.a.createElement("br",null),r.a.createElement(rt.a,{className:"Grid",columnCount:1,columnWidth:40,height:400,rowCount:i+1,rowHeight:120,width:40,ref:a,style:{overflowX:"hidden",overflowY:"hidden"}},g)),r.a.createElement(ae.a,{item:!0},r.a.createElement(rt.a,{className:"Grid",columnCount:o+1,columnWidth:120,height:40,rowCount:1,rowHeight:40,width:400,ref:t,style:{overflowX:"hidden",overflowY:"hidden"}},p),r.a.createElement("br",null),r.a.createElement(rt.a,{className:c.hideScroll,columnCount:o+1,columnWidth:120,height:400,rowCount:i+1,rowHeight:120,width:400,ref:l,onScroll:function(e){var n=e.scrollLeft,r=e.scrollTop;t.current.scrollTo({scrollLeft:n}),a.current.scrollTo({scrollTop:r})}},E))))}var Mt=Object(E.a)((function(e){return{reportModal:{display:"flex",alignItems:"center",justifyContent:"center"},directionArrow:{backgroundColor:"#0000FF30"}}}));function Pt(e){var t=Mt(),a=e.result.alignments.length,n=r.a.useRef(null);r.a.useEffect((function(){n.current.scrollIntoView({behavior:"smooth"})}),[e.result]);var l,c,i=r.a.useState(0),o=Object(B.a)(i,2),s=o[0],m=o[1],d=r.a.useState(!1),p=Object(B.a)(d,2),g=p[0],E=p[1],h=e.result.alignments.length>0?[r.a.createElement(ot,{alignment:e.result.alignments[s],index:s,key:s,genomeType:e.input.genomeType})]:r.a.createElement("h4",null,"Could not find alignments according to the provided scoring schema");return"BASIC"===e.input.scoringMethod?(l=r.a.createElement(pt,{input:e.input,result:e.result,selected:s}),c=r.a.createElement(ht,{input:e.input,result:e.result})):(l=r.a.createElement(_t,{input:e.input,result:e.result,selected:s}),c=null),r.a.createElement("div",{ref:n},r.a.createElement("h2",null,"PariAlign Result"),r.a.createElement(ae.a,{container:!0,direction:"row",spacing:2},r.a.createElement(ae.a,{item:!0,xs:12,lg:4},r.a.createElement(V.a,{title:"Dynamic Programming matrix used to calculate the score",interactive:!0,arrow:!0},r.a.createElement("h3",null,"DP Matrix")),r.a.createElement("br",null),l),r.a.createElement(T.a,{orientation:"vertical",flexItem:!0,style:{marginLeft:20}}),r.a.createElement(ae.a,{item:!0,xs:12,lg:6},r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0,spacing:0,align:"center",justify:"center",alignItems:"center",direction:"row"},r.a.createElement(ae.a,{item:!0,xs:1},r.a.createElement("h4",null,"Previous"),r.a.createElement(u.a,{size:"small",className:t.directionArrow,onClick:function(){m((s+1)%a)}},r.a.createElement(at.a,null))),r.a.createElement(ae.a,{item:!0,xs:9},r.a.createElement("h3",null,"Alignment(s)"),r.a.createElement("br",null),h),r.a.createElement(ae.a,{item:!0,xs:1},r.a.createElement("h4",null,"Next"),r.a.createElement(u.a,{size:"small",className:t.directionArrow,onClick:function(){m(s-1===-1?a-1:s-1)}},r.a.createElement(et.a,null)))))),r.a.createElement(T.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(ae.a,{item:!0,xs:12,lg:"auto"},r.a.createElement("h3",null,"Report"),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:10}},e.result.alignments.length>0?"Identity : ".concat(e.result.alignments[s].identity.toFixed(5)):"",r.a.createElement("br",null),"Score : ",e.result.score,r.a.createElement("br",null)),r.a.createElement(X.a,{variant:"outlined",onClick:function(){E(!0)}},"Generate Report"),r.a.createElement(bt.a,{open:g,className:t.reportModal,onClose:function(){E(!1)},"aria-labelledby":"report-modal-title","aria-describedby":"report-modal-description"},r.a.createElement(Ct,{input:e.input,result:e.result})))),c)}var Gt=a(157),Bt=Object(E.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"yellow",backgroundColor:"#000000CC"},circularProgress:{color:"white"}}}));function Rt(){var e=Bt();return r.a.createElement("div",null,r.a.createElement(Gt.a,{className:e.backdrop,open:!0},r.a.createElement(ae.a,{container:!0,direction:"column"},r.a.createElement(ae.a,{item:!0},r.a.createElement(ce.a,{thickness:6,className:e.circularProgress})),r.a.createElement(ae.a,{item:!0},"Fetching Results"))))}function Dt(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.genomeType}));return r.a.createElement("div",null,r.a.createElement(ye.a,{component:"fieldset"},r.a.createElement(Ae.a,{component:"legend"},"Select Genome Type"),r.a.createElement(ve.a,{"aria-label":"genome-type",value:t,name:"genome-type",onChange:function(t){e({type:"SET_GENOME_TYPE",payload:t.target.value})}},r.a.createElement(j.a,{value:"DNA",control:r.a.createElement(fe.a,null),label:"DNA"}),r.a.createElement(j.a,{value:"PROTEIN",control:r.a.createElement(fe.a,null),label:"Protein"}))))}var Ht=function(e){var t=Math.max(0,e.range[0]-1),a=e.range[1];return e.seq.slice(t,a)};function Lt(){var e=Object(f.b)(),t=r.a.useState(!1),a=Object(B.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),i=Object(B.a)(c,2),o=i[0],s=i[1],u=Object(f.c)((function(e){return e.genomeType})),m=Ht(Object(f.c)((function(e){return e.P1}))),d=Object(f.c)((function(e){return e.P1.name})),p=Object(f.c)((function(e){return e.P2.name})),g=Ht(Object(f.c)((function(e){return e.P2}))),E=Object(f.c)((function(e){return e.matchScore})),h=Object(f.c)((function(e){return e.mismatchPenalty})),v=Object(f.c)((function(e){return e.gapPenalty})),y=Object(f.c)((function(e){return e.gapOpenPenalty})),A=Object(f.c)((function(e){return e.gapExtendPenalty})),S=Object(f.c)((function(e){return e.scoringMethod})),T=Object(f.c)((function(e){return e.tracebackPriority})),w=Object(f.c)((function(e){return e.similarityMatrixName})),O=Object(f.c)((function(e){return e.DNASimilarityMatrix})),C=Object(f.c)((function(e){return e.pAlgo})),x=function(t){console.log(t),s(!1),void 0===t.error?l({result:t.response.result,input:{seqA:m,seqAname:d,seqB:g,seqBname:p,match:E,mismatch:h,gap:v,gapOpen:y,gapExtend:A,scoringMethod:S,tracebackPriority:T,similarityMatrixName:w,DNASimilarityMatrix:O,genomeType:u}}):400===t.error?e(ie("Plese check your input")):e(ie("Could not load results. Try again later"))};return r.a.createElement("div",null,r.a.createElement("h2",null,"PairAlign Mode"),r.a.createElement(b.a,{boxShadow:3,padding:5,marginBottom:3},r.a.createElement(Dt,null)),r.a.createElement(Ue,null),r.a.createElement("br",null),r.a.createElement(X.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){l(void 0),s(!0),"GLOBAL"===C?"BASIC"===S?Qe(m,g,E,h,v,x):$e(m,g,E,h,y,A,T,u,w,O,x):"BASIC"===S?Ke(m,g,E,h,v,x):Je(m,g,E,h,y,A,T,u,w,O,x)}},"Submit"),r.a.createElement("br",null),o?r.a.createElement(Rt,null):"",r.a.createElement("br",null),n?r.a.createElement(b.a,{boxShadow:3,padding:2}," ",r.a.createElement(Pt,{input:n.input,result:n.result})):"")}var Wt=function(e,t){return{type:"SET_MSA",payload:{seq:e,key:t}}},Ft=function(e,t){return{type:"SET_MSA_RANGE",payload:{range:e,key:t}}},zt=function(e,t){return{type:"SET_MSA_NAME",payload:{name:e,key:t}}},Ut=function(e){return{type:"REMOVE_MSA",payload:{key:e}}},Yt=function(e){return{type:"SET_MSA_ORDER",payload:e}};function Vt(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.MSASeq})),a=[];return t.forEach((function(e,t){var n="Input Sequence ".concat(t+1," for MSA");a.push(r.a.createElement(ae.a,{item:!0,key:e.key},r.a.createElement(be,{inputHandler:Wt,rangeInputHandler:Ft,nameInputHandler:zt,closeHandler:Ut,value:e.seq,range:e.range,sequenceName:e.name,MSAkey:e.key,title:n,type:"MSA"})))})),r.a.createElement("div",{style:{maxHeight:500,overflowY:"auto"}},r.a.createElement(ae.a,{container:!0,direction:"column",spacing:0,style:{width:"98%"}},a,r.a.createElement(T.a,{style:{marginBottom:10}}),r.a.createElement(ae.a,{item:!0},r.a.createElement(X.a,{variant:"contained",color:"secondary",style:{color:"white",backgroundColor:"green"},onClick:function(t){e({type:"ADD_NEW_MSA"})}},"Add More"))))}var Xt=Object(E.a)((function(e){return{formControl:{width:120,margin:e.spacing(1)},submitButton:{color:"green"}}}));function Qt(e){var t=Xt(),a=Object(n.useState)(!1),l=Object(B.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(" "),s=Object(B.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(" "),p=Object(B.a)(d,2),g=p[0],E=p[1],h=[];e.availableSet.forEach((function(e){h.push(r.a.createElement(qe.a,{key:e,value:e},e))}));return r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0,direction:"row"},r.a.createElement(ae.a,{item:!0},r.a.createElement(ye.a,{disabled:e.disabledStatus,error:c,className:t.formControl},r.a.createElement(_e.a,{value:u,onChange:function(t){var a=t.target.value;a!==g&&e.availableSet.has(a)?i(!1):i(!0),m(a)}},r.a.createElement(qe.a,{value:" "}," "),h),c?r.a.createElement(Ge.a,null,"Invalid Pair"):"")),r.a.createElement(ae.a,{item:!0},r.a.createElement(ye.a,{disabled:e.disabledStatus,error:c,className:t.formControl},r.a.createElement(_e.a,{value:g,onChange:function(t){var a=t.target.value;a!==u&&e.availableSet.has(a)?i(!1):i(!0),E(a)}},r.a.createElement(qe.a,{value:" "}," "),h),c?r.a.createElement(Ge.a,null,"Invalid Pair"):"")),r.a.createElement(ae.a,{item:!0},r.a.createElement(X.a,{disabled:e.disabledStatus,variant:"outlined",onClick:function(){u!==g&&e.availableSet.has(u)&&e.availableSet.has(g)?(console.log(u,g),e.onSubmitPair(u,g)):i(!0)},className:t.submitButton},"Add Pair"))))}function $t(e,t){var a=Array(t).fill().map((function(e,t){return t+1})),n=new Set(a);if(e.length!==t-1)return!1;var r=!0;return e.forEach((function(e,a){n.has(e[0])&&n.has(e[1])&&e[2]===t+a+1||(r=!1),n.delete(e[0]),n.delete(e[1]),n.add(t+a+1)})),r}var Kt=a(158),Jt=a(260),Zt=["AGCTCT","AAAA","GGCTTC","CCCCC","GGGCT","TTTTT"],ea=[[1,2,7],[3,5,8],[7,4,9],[6,9,10],[8,10,11]],ta={children:[{children:[{id:3},{id:5}],id:8},{children:[{id:6},{children:[{children:[{id:1},{id:2}],id:7},{id:4}],id:9}],id:10}],id:11},aa=a(136),na=a.n(aa),ra=a(137),la=a.n(ra),ca=Object(E.a)((function(e){return{availableIconsGrid:{margin:5},submitButton:{color:"green"},avatar:{color:"white",backgroundColor:"red",width:25,height:25,fontSize:15}}}));function ia(e){var t=ca();function a(e){return r.a.createElement(nt.a,{className:t.avatar},e)}var n=e.pairingOrder.map((function(e){return r.a.createElement("div",{key:e[2]},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,a(e[0])),r.a.createElement("td",null,r.a.createElement(na.a,null)),r.a.createElement("td",null,a(e[1])),r.a.createElement("td",null,r.a.createElement(la.a,null)),r.a.createElement("td",null,a(e[2]))))))}));return r.a.createElement("div",null,n)}var oa=a(138),sa=a.n(oa),ua=Object(E.a)((function(e){return{tree:{borderWidth:2,borderStyle:"solid",width:600,height:400,margin:"auto"},sampleTree:{width:600,height:200}}}));function ma(e){var t=ua(),a=r.a.useRef(null),l=e.treeData,c=e.setSelected,i=e.type,o=e.sequencesNames,s="sample"===e.type?"MSA-tree-sample":"MSA-tree-result";return Object(n.useEffect)((function(){var e=null;if(!e){e=new sa.a.TreeGraph({container:a.current,fitView:!0,width:600,height:"sample"===i?200:400,modes:{default:[{type:"collapse-expand",onChange:function(e,t){return e.get("model").data.collapsed=t,!0}},"drag-canvas","zoom-canvas"]},defaultNode:{size:26,anchorPoints:[[0,.5],[1,.5]],style:{fill:"#FF0000",stroke:"#FF0000"}},defaultEdge:{type:"cubic-horizontal",style:{stroke:"#0000FF",startArrow:!0}},layout:{type:"mindmap",direction:"H",getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 10},getHGap:function(){return 100},getSide:function(){return"left"}}});var t=0;e.node((function(e){"1"===e.id&&(t=e.x);var a=e.id;return"result"===i&&Number(e.id)<=o.length&&(a=o[Number(e.id)-1]),{label:a,labelCfg:{position:e.children&&e.children.length>0||e.x>t?"right":"left",offset:5,style:{fill:"#0000FF",fontSize:17}}}})),e.on("node:mouseover",(function(e){var t=e.item.defaultCfg.id;c(t)})),e.on("canvas:dblclick",(function(t){e.fitView(0)}))}e.data(l),e.render(),e.fitView(0)}),[c,l,i,o]),r.a.createElement("div",{ref:a,id:s,className:"".concat(t.tree," \n        ").concat("sample"===e.type?t.sampleTree:"")})}var da=Object(E.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},seqListItem:{backgroundColor:"#00000010",marginBottom:3}}}));function pa(){var e=da(),t=r.a.useState(!1),a=Object(B.a)(t,2),n=a[0],l=a[1],c=Zt.map((function(t,a){return r.a.createElement(y.a,{key:a,className:e.seqListItem},a+1," - ",t)})),i=r.a.createElement(r.a.Fragment,null,"Above pairing order will give the following tree.",r.a.createElement("br",null),"Indices 7, 8, 9, 10 correspond to intermediate profiles.",r.a.createElement("br",null),"11 denotes the final alignment");return r.a.createElement("div",null,r.a.createElement(Jt.a,{component:"button",variant:"body2",onClick:function(){l(!0)}},"Need help for this?"),r.a.createElement(bt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:function(){l(!1)},closeAfterTransition:!0,BackdropComponent:Gt.a,BackdropProps:{timeout:500}},r.a.createElement(Kt.a,{in:n},r.a.createElement("div",{className:e.paper},r.a.createElement(ae.a,{container:!0,spacing:2},r.a.createElement(ae.a,{item:!0,xs:4},"Sequences with their indices",r.a.createElement(v.a,null,c)),r.a.createElement(ae.a,{item:!0,xs:8},"Sample pairing",r.a.createElement("br",null),r.a.createElement(ia,{pairingOrder:ea}),r.a.createElement("br",null),i)),r.a.createElement(ma,{treeData:ta,type:"sample",setSelected:function(){}})))))}var ga=a(139),Ea=a.n(ga),ha=Object(E.a)((function(e){return{availableIconsGrid:{margin:5},submitButton:{color:"green"},avatar:{color:"white",backgroundColor:"red",width:25,height:25,fontSize:15}}}));function ba(e){var t=ha(),a=Object(f.b)(),l=Object(f.c)((function(e){return e.msaOrder})),c=Object(n.useCallback)((function(e){a(Yt(e))}),[a]);Object(n.useEffect)((function(){var t=Array(e.sequences.length).fill().map((function(e,t){return t+1}));m(new Set(t)),c(new Array(0)),E(e.sequences.length+1)}),[e.sequences,c]);var i=Array(e.sequences.length).fill().map((function(e,t){return t+1})),o=Object(n.useState)(new Set(i)),s=Object(B.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(e.sequences.length+1),p=Object(B.a)(d,2),g=p[0],E=p[1];var h,b=[];return u.forEach((function(e){var a;b.push(r.a.createElement(ae.a,{item:!0,key:e},(a=e,r.a.createElement(nt.a,{className:t.avatar},a))))})),h=$t(l,i.length)?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Valid "),r.a.createElement(Ea.a,{style:{color:"green"},size:20})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Waiting for complete list"),r.a.createElement(ce.a,{size:20})),r.a.createElement("div",null,r.a.createElement(T.a,null),r.a.createElement("br",null),"Sequences will be compared progressively with Global Alignment algorithm",r.a.createElement("br",null),"according to the user defined phylogenetic tree.",r.a.createElement("br",null),r.a.createElement(pa,null),r.a.createElement("br",null),r.a.createElement("br",null),"Currently available for pairing",r.a.createElement(ae.a,{container:!0,direction:"row",spacing:2,align:"center",justify:"center",alignItems:"center",className:t.availableIconsGrid},l.length<i.length-1?b:r.a.createElement(ae.a,{item:!0},"-None-")),r.a.createElement("br",null),r.a.createElement(ae.a,{container:!0,direction:"row",spacing:7,align:"center",justify:"center",alignItems:"center"},r.a.createElement(ae.a,{item:!0,xs:4},"Your Pair Aligns Will Appear Here",r.a.createElement(ia,{pairingOrder:l}),r.a.createElement("br",null),l.length>0?r.a.createElement(X.a,{variant:"outlined",size:"small",onClick:function(){m(new Set(i)),c(new Array(0)),E(e.sequences.length+1),a(Yt([]))}},"Reset Pairings"):""),r.a.createElement(ae.a,{item:!0,xs:4},r.a.createElement(Qt,{availableSet:u,onSubmitPair:function(e,t){var a=l;a.push([e,t,g]),c(a);var n=u;n.delete(e),n.delete(t),n.add(g),m(n),E(g+1)},disabledStatus:l.length===i.length-1}))),r.a.createElement("div",null,r.a.createElement("h4",null,"Pairing Validity Status"),h))}function fa(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.msaAlgo})),a=Object(f.c)((function(e){return e.MSASeq})),n="";return"2"===t&&(n=r.a.createElement(ba,{sequences:a})),r.a.createElement("div",null,r.a.createElement(b.a,{boxShadow:3,marginTop:7,padding:5},r.a.createElement("div",null,r.a.createElement(ye.a,{component:"fieldset"},r.a.createElement(Ae.a,{component:"label"},"Select Algorithm"),r.a.createElement(ve.a,{"aria-label":"algorithm",value:t,name:"algorithm",onChange:function(t){e({type:"SET_MSA_ALGO",payload:t.target.value})}},r.a.createElement(j.a,{value:"1",control:r.a.createElement(fe.a,null),label:"Progressive Algorithm"}),r.a.createElement(j.a,{value:"2",control:r.a.createElement(fe.a,null),label:"User Defined"})))),r.a.createElement("div",null,n)))}function va(){return r.a.createElement("div",null,r.a.createElement(b.a,{boxShadow:3,paddingBottom:3},r.a.createElement(Vt,null)),r.a.createElement(fa,null),r.a.createElement(b.a,{boxShadow:3,marginTop:7,marginBottom:7,padding:5},r.a.createElement("div",null,r.a.createElement(Ae.a,null,"Define your score schema"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ke,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Le,{style:{marginTop:5}}))))}var ya=function(){var e=Object(Y.a)(U.a.mark((function e(t,a,n,r,l,c,i,o,s){var u,m;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ye+"/msa/progressive",u={sequences:t,match:n,mismatch:r,gap:l},m=a.map((function(e){return[e[0],e[1]]})),u.order=m,u.seq_type=c,u.sub_mat="PROTEIN"===c?i:"DEFAULT"===i?"DEFAULT":o,e.next=8,ne("https://bioviz-api.herokuapp.com/msa/progressive",u,s);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r,l,c,i,o,s){return e.apply(this,arguments)}}(),Aa=function(){var e=Object(Y.a)(U.a.mark((function e(t,a,n,r,l,c,i,o){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ye+"/msa/progressive-optimal",(s={sequences:t,match:a,mismatch:n,gap:r}).seq_type=l,s.sub_mat="PROTEIN"===l?c:"DEFAULT"===c?"DEFAULT":i,e.next=6,ne("https://bioviz-api.herokuapp.com/msa/progressive-optimal",s,o);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r,l,c,i,o){return e.apply(this,arguments)}}(),Sa=Object(E.a)((function(e){return{avatar:{height:"20px",width:"20px",fontSize:"12px"},emptyRow:{"& tr":{height:"20px"}}}}));var Ta=function(e){var t=Sa(),a=e.alignments[0].length,n=function(a){var n=a.columnIndex,l=a.rowIndex,c=a.style,i=e.alignments[l].charAt(n),o="-"===i?"gap":e.genomeType.concat("-",i.toUpperCase());return r.a.createElement("div",{style:c},r.a.createElement(nt.a,{variant:"square",className:"".concat(t.avatar," ").concat(ct.a["genome-base"],"\n                             ").concat(ct.a[o])},i))};return r.a.createElement("div",{onClick:onclick},r.a.createElement(rt.a,{columnCount:a,columnWidth:20,height:20*(e.alignments.length+1),rowCount:e.alignments.length,rowHeight:20,width:560},n))},wa=["A","G","C","T"],Oa=function(e){Object(St.a)(a,e);var t=Object(At.a)(a);function a(e){var n;return Object(ft.a)(this,a),(n=t.call(this,e)).downloadTxtFile=n.downloadTxtFile.bind(Object(yt.a)(n)),n}return Object(vt.a)(a,[{key:"downloadTxtFile",value:function(){var e=document.createElement("a"),t=new Blob([document.getElementById("printable-component").innerText],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="report.txt",document.body.appendChild(e),e.click()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=new Date,l=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),c=this.props.input.sequences.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),">".concat(e.props.input.sequencesNames[a]),r.a.createElement("br",null),t,r.a.createElement("br",null))})),i=r.a.createElement("hr",{className:t.line}),o=r.a.createElement(r.a.Fragment,null,"Match Score : ",this.props.input.match,r.a.createElement("br",null),"Mismatch Penalty : ",this.props.input.mismatch,r.a.createElement("br",null),"Gap Penalty : ",this.props.input.gap,r.a.createElement("br",null)),s=null;"DNA"===this.props.input.genomeType&&"CUSTOM"===this.props.input.similarityMatrixName&&(s=[],wa.forEach((function(t){wa.forEach((function(a){var l=t.concat(a);e.props.input.DNASimilarityMatrix.hasOwnProperty(l)&&s.push(r.a.createElement(n.Fragment,{key:l},l," : ",e.props.input.DNASimilarityMatrix[l],r.a.createElement("br",null)))}))})));var u=this.props.result.alignments.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),">".concat(e.props.input.sequencesNames[a]),r.a.createElement("br",null),t,r.a.createElement("br",null))}));return r.a.createElement("div",{className:t.paper,tabIndex:-1},r.a.createElement(X.a,{variant:"outlined",onClick:this.downloadTxtFile},"Download as a text file"),r.a.createElement("div",{id:"printable-component",className:t.printableComponent},"Report created with BioViz",r.a.createElement("br",null),"on ",l,r.a.createElement("br",null),i,"Sequence Type : ",this.props.input.genomeType,r.a.createElement("br",null),r.a.createElement("br",null),i,r.a.createElement("br",null),"InputSequences",r.a.createElement("div",{className:t.wrapped},c),i,r.a.createElement("br",null),"Scoring method : BASIC (without affine gaps)",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,o),r.a.createElement("br",null),"Similarity Matrix : ",this.props.input.similarityMatrixName,r.a.createElement("br",null),s,r.a.createElement("br",null),r.a.createElement("br",null),i,r.a.createElement("br",null),"Alignments",r.a.createElement("div",{className:t.wrapped},u,r.a.createElement("br",null),"Identity : ".concat(this.props.result.identity),r.a.createElement("br",null))))}}]),a}(n.Component),Ca=Object(Tt.a)((function(e){return{paper:{width:"90%",height:"90%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2)},wrapped:{wordWrap:"break-word"},printableComponent:{overflowY:"auto",height:"90%",padding:e.spacing(2)},line:{width:"100%",textAlign:"left",marginLeft:0}}}))(Oa),xa=Object(E.a)((function(e){return{reportModal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));function Na(e){var t=xa(),a=Object(n.useRef)(null);Object(n.useEffect)((function(){a.current.scrollIntoView({behavior:"smooth"})}),[e.result]);var l=r.a.useState(void 0),c=Object(B.a)(l,2),i=c[0],o=c[1],s=r.a.useState(!1),u=Object(B.a)(s,2),m=u[0],d=u[1],p=e.result.alignments.length,g=null;if(i)if(i<=p){var E=r.a.createElement("p",null,"Input Sequence (","".concat(e.input.sequencesNames[i-1]),")");g=r.a.createElement(r.a.Fragment,null,E," ",r.a.createElement(Ta,{genomeType:e.input.genomeType,alignments:[e.result.profiles[i]]}))}else{var h=r.a.createElement("p",null,"Intermediate Profile (","".concat(i),")");g=r.a.createElement(r.a.Fragment,null,h," ",r.a.createElement(Ta,{genomeType:e.input.genomeType,alignments:e.result.profiles[i]}))}return r.a.createElement("div",{ref:a},r.a.createElement("br",null),r.a.createElement(ae.a,{container:!0,direction:"row",spacing:0},r.a.createElement(ae.a,{item:!0,xs:12,lg:5},r.a.createElement("h3",null,"Phylogenetic Tree"),r.a.createElement("br",null),"Hover on nodes to view intermediate profiles. Double click on canvas to recenter the graph.",r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(X.a,{variant:"outlined",onClick:function(){var e=document.getElementById("MSA-tree-result").getElementsByTagName("canvas")[0],t=document.createElement("a");t.setAttribute("download","tree.png"),t.setAttribute("href",e.toDataURL("image/png").replace("image/png","image/octet-stream")),t.click()},size:"small"},"Print this")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(ma,{type:"result",treeData:e.result.graph,setSelected:o,sequencesNames:e.input.sequencesNames}))),r.a.createElement(T.a,{orientation:"vertical",flexItem:!0,style:{marginLeft:15}}),r.a.createElement(ae.a,{item:!0,container:!0,direction:"column",xs:12,lg:5,align:"center",alignItems:"center"},r.a.createElement(ae.a,{item:!0},r.a.createElement("h3",null,"Final Alignment"),r.a.createElement("br",null),r.a.createElement(Ta,{alignments:e.result.alignments,genomeType:e.input.genomeType})),r.a.createElement(ae.a,{item:!0},r.a.createElement("h4",null,"Intermediate Profiles"),r.a.createElement("h5",null,"(Hover over the graph to view profiles)"),g)),r.a.createElement(T.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(ae.a,{item:!0,xs:12,lg:"auto",align:"center"},r.a.createElement("h3",null,"Report"),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:10}},"Identity : ",e.result.identity.toFixed(5),r.a.createElement("br",null)),r.a.createElement(X.a,{variant:"outlined",size:"small",onClick:function(){d(!0)}},"Generate Report"),r.a.createElement(bt.a,{open:m,className:t.reportModal,onClose:function(){d(!1)},"aria-labelledby":"report-modal-title","aria-describedby":"report-modal-description"},r.a.createElement(Ca,{input:e.input,result:e.result})))))}var Ia=Object(E.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"yellow",backgroundColor:"#000000CC"},circularProgress:{color:"white"}}}));function ka(){var e=Ia();return r.a.createElement("div",null,r.a.createElement(Gt.a,{className:e.backdrop,open:!0},r.a.createElement(ae.a,{container:!0,direction:"column"},r.a.createElement(ae.a,{item:!0},r.a.createElement(ce.a,{thickness:6,className:e.circularProgress})),r.a.createElement(ae.a,{item:!0},"Fetching Results"))))}function ja(){var e=Object(f.b)(),t=r.a.useState(void 0),a=Object(B.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),i=Object(B.a)(c,2),o=i[0],s=i[1],u=Object(f.c)((function(e){return e.genomeType})),m=Object(f.c)((function(e){return e.MSASeq})),d=Object(f.c)((function(e){return e.matchScore})),p=Object(f.c)((function(e){return e.mismatchPenalty})),g=Object(f.c)((function(e){return e.gapPenalty})),E=Object(f.c)((function(e){return e.msaAlgo})),h=Object(f.c)((function(e){return e.msaOrder})),v=Object(f.c)((function(e){return e.similarityMatrixName})),y=Object(f.c)((function(e){return e.DNASimilarityMatrix})),A=m.map((function(e){return Ht(e)})),S=m.map((function(e){return e.name})),T=function(t){console.log(t),s(!1),void 0===t.error?l({result:t.response.result,input:{sequences:A,sequencesNames:S,match:d,mismatch:p,gap:g,genomeType:u,similarityMatrixName:v,DNASimilarityMatrix:y}}):400===t.error?e(ie("Plese check your input")):e(ie("Could not load results. Try again later"))};return r.a.createElement("div",null,r.a.createElement("h2",null,"MSA Mode"),r.a.createElement(b.a,{boxShadow:3,padding:5,marginBottom:3},r.a.createElement(Dt,null)),r.a.createElement(va,null),r.a.createElement(X.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(){"2"===E?$t(h,A.length)?(l(void 0),s(!0),ya(A,h,d,p,g,u,v,y,T)):e(ie("Invalid pairing order.")):(l(void 0),s(!0),Aa(A,d,p,g,u,v,y,T))}},"Submit"),o?r.a.createElement(ka,null):"",r.a.createElement("br",null),n?r.a.createElement(b.a,{boxShadow:3,padding:3,marginTop:7},r.a.createElement("div",null,r.a.createElement(Na,{result:n.result,input:n.input}))):"")}var qa=a(28),_a=a.n(qa),Ma=a(140),Pa=a.n(Ma),Ga=a(141),Ba=a.n(Ga),Ra=a(142),Da=a.n(Ra),Ha=a(99),La=a(294),Wa=a(261),Fa=a(262),za=a(143),Ua=a.n(za),Ya=Object(E.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));function Va(e){var t=e.title,a=e.description,n=Ya();return r.a.createElement("div",{className:"view"},r.a.createElement("div",{className:n.root},r.a.createElement(La.a,null,r.a.createElement(Wa.a,{expandIcon:r.a.createElement(Ua.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(g.a,{className:n.heading,testid:"ViewMore_title"},t)),r.a.createElement(Fa.a,null,r.a.createElement(g.a,{className:_a.a.subTitle},a)))))}var Xa=Object(E.a)((function(e){return{paper:{display:"flex",width:300,margin:25},control:{padding:e.spacing(2)},DivDecoration:{marginTop:0,paddingTop:25},image:{height:255,maxWidth:400,overflow:"hidden",display:"block center",width:"75%",borderRadius:20}}}));function Qa(e){var t=e.title,a=e.description,n=e.image,l=Xa();return r.a.createElement("div",null,r.a.createElement(ae.a,{item:!0},r.a.createElement(Ha.a,{className:l.paper},r.a.createElement("div",{className:l.DivDecoration},r.a.createElement("img",{className:_a.a.image,src:n,alt:""}),r.a.createElement("h3",{className:_a.a.title},t),r.a.createElement(Va,{testid:"viewMoreId",title:"More details..",description:a})))))}var $a=[{title:"Analyze DNA Sequence",description:"Sequences are analyling according to \n        intetnational standards or user customizations.",image:Pa.a},{title:"Visualize DNA Alignment",description:"Results are visualize with \n        user-friendly with matrixes and alignments.",image:Ba.a},{title:"Simple GamePlay",description:"This activity is to some enterainment \n        and also get a basic knowledge about how alignments work.",image:Da.a}],Ka=Object(E.a)((function(e){return{root:{flexGrow:1,marginBottom:20}}}));function Ja(){var e=Ka();return r.a.createElement("div",null,r.a.createElement("h2",{className:_a.a.heading},"Services"),r.a.createElement("p",{className:_a.a.subHeading},"These are the services providing by this website."),r.a.createElement(ae.a,{container:!0,className:e.root},r.a.createElement(ae.a,{item:!0,xs:12},r.a.createElement(ae.a,{container:!0,justify:"center"},$a.map((function(e,t){return r.a.createElement(Qa,Object.assign({},e,{key:t}))}))),r.a.createElement("p",null,"These services will help you to analyze and visualize the Bioinformatics sequences with different ways of alignments and gather more knowledge about these areas.",r.a.createElement("br",null),"This website provide userfriendly visualizations to easily understand the result."))))}var Za=a(69),en=a(284),tn=a(273),an=a(295),nn=a(271),rn=a(287),ln=a(272),cn=Object(E.a)({root:{width:"100%",maxWidth:1e3}});function on(){var e=cn();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{component:"span",variant:"h4",gutterBottom:!0,testid:"typographyHeaderId"},"What is Pairwise Alignment",r.a.createElement("br",null),r.a.createElement(T.a,null)),r.a.createElement(g.a,{component:"span",variant:"body1",gutterBottom:!0},"Pairwise Sequence Alignment is used to identify regions of similarity that may indicate functional, structural and/or evolutionary relationships between two biological sequences (protein or nucleic acid).",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(g.a,{component:"span",variant:"h5",gutterBottom:!0},"Types of pairwise alignment",r.a.createElement("br",null)),r.a.createElement(g.a,{component:"span",variant:"subtitle1",gutterBottom:!0},"1. Needleman Wunsch",r.a.createElement("br",null)),r.a.createElement(g.a,{component:"span",variant:"subtitle1",gutterBottom:!0},"2. Smith Waterman",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(g.a,{component:"span",variant:"h6",gutterBottom:!0},"Needleman Wunsch Algorithm",r.a.createElement("br",null)),r.a.createElement(g.a,{component:"span",variant:"body2",gutterBottom:!0},"This is the most basic and important algorithm of bioinformatics Needleman\u2013Wunsch Algorithm developed by Saul B. Needleman and Christian D. Wunsch in 1970. It was designed to compare biological sequences and was one of the first applications of dynamic programming to the biological sequence comparison. This algorithm is usually used for global alignment of two sequences (nucleotide or amino acids). which now find application in the Human Genome Project.",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(g.a,{component:"span",variant:"h6",gutterBottom:!0},"Smith Waterman Algorithm",r.a.createElement("br",null)),r.a.createElement(g.a,{component:"span",variant:"body2",gutterBottom:!0},"The Smith-Waterman algorithm which is also called as local alignment is a database search algorithm developed byT.F. Smith and M.S. Waterman, and based on an earlier model appropriately named Needleman and Wunsch after its original creators. The S-W Algorithm implements a technique called dynamic programming, which takes alignments of any length, at any location, in any sequence, and determines whether an optimal alignment can be found. Based on these calculations, scores or weights are assigned to each character-to-character comparison: positive for exact matches/substitutions, negative for insertions/deletions. In weight matrices, scores are added together and the highest scoring alignment is reported.",r.a.createElement("br",null)))}var sn=Object(Tt.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(La.a),un=Object(Tt.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Wa.a),mn=Object(Tt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Fa.a);function dn(){var e,t=r.a.useState("panel1"),a=Object(B.a)(t,2),n=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(sn,{testid:"expansionPanelId",square:!0,expanded:"panel2"===n,onChange:(e="panel2",function(t,a){l(!!a&&e)})},r.a.createElement(un,{testid:"expansionPanelSummaryId","aria-controls":"panel1d-content",id:"panel1d-header"},r.a.createElement(g.a,{component:"span",testid:"typographyId1"},"Want to know about Pairwise alignment? Click here")),r.a.createElement(mn,{testid:"expansionPanelDetailsId"},r.a.createElement(g.a,{component:"span",testid:"typographyId1"},r.a.createElement(on,null)))))}var pn=Object(E.a)({root:{width:"100%",maxWidth:1e3}});function gn(){var e=pn();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{component:"span",variant:"h4",gutterBottom:!0,testid:"typographyHeaderId"},"What is MSA Alignment",r.a.createElement("br",null),r.a.createElement(T.a,null)),r.a.createElement(g.a,{component:"span",variant:"body1",gutterBottom:!0},"Multiple Sequence Alignment (MSA) is generally the alignment of three or more biological sequences (protein or nucleic acid) of similar length. From the output, homology can be inferred and the evolutionary relationships between the sequences studied.",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(g.a,{component:"span",variant:"h5",gutterBottom:!0},"Types of MSA alignment",r.a.createElement("br",null)),r.a.createElement(g.a,{component:"span",variant:"subtitle1",gutterBottom:!0},"1. Progressive",r.a.createElement("br",null)),r.a.createElement(g.a,{variant:"subtitle1",gutterBottom:!0},"2. Progressive Optimal",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(g.a,{component:"span",variant:"h6",gutterBottom:!0},"Progressive Algorithm",r.a.createElement("br",null)),r.a.createElement(g.a,{component:"span",variant:"body2",gutterBottom:!0},"The most widely used approach to multiple sequence alignments uses a heuristic search known as progressive technique. Progressive alignment builds up a final MSA by combining pairwise alignments beginning with the most similar pair and progressing to the most distantly related.",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement(g.a,{component:"span",variant:"h6",gutterBottom:!0},"Progressive Optimal Algorithm",r.a.createElement("br",null)),r.a.createElement(g.a,{component:"span",variant:"body2",gutterBottom:!0},"This is also same as the Progressive Algorithm only difference of Progressive Optimal Algorithm is user define the pairs of alignment. So this is very fast algorithm to get the final result.",r.a.createElement("br",null)),r.a.createElement("br",null))}var En=Object(Tt.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(La.a),hn=Object(Tt.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Wa.a),bn=Object(Tt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Fa.a);function fn(){var e,t=r.a.useState("panel1"),a=Object(B.a)(t,2),n=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(En,{testid:"expansionPanelId",square:!0,expanded:"panel2"===n,onChange:(e="panel2",function(t,a){l(!!a&&e)})},r.a.createElement(hn,{testid:"expansionPanelSummaryId","aria-controls":"panel1d-content",id:"panel1d-header"},r.a.createElement(g.a,{component:"span",testid:"typographyId1"},"Want to know about MSA alignment? Click here")),r.a.createElement(bn,{testid:"expansionPanelDetailsId"},r.a.createElement(g.a,{component:"span",testid:"typographyId2"},r.a.createElement(gn,null)))))}var vn=a(266),yn=a(46),An=a.n(yn),Sn=a(201),Tn=a(267),wn=a(268),On=a(286),Cn=a(288);function xn(e){var t=e.message,a=r.a.useState(!0),n=Object(B.a)(a,2),l=n[0],c=n[1],i=function(e,t){c(!1)};return r.a.createElement(Cn.a,{testid:"snackbarId",anchorOrigin:{vertical:"bottom",horizontal:"left"},open:l,autoHideDuration:6e3,onClose:i,message:t,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{testid:"buttonId",color:"secondary",size:"small",onClick:i},"close"),r.a.createElement(u.a,{testid:"iconButtonId",size:"small","aria-label":"close",color:"inherit",onClick:i},r.a.createElement(An.a,{fontSize:"small"})))})}var Nn=a(263),In=a(264),kn=a(265),jn=a(145),qn=a.n(jn),_n=a(144),Mn=a.n(_n),Pn=Object(E.a)((function(e){return{position:{marginTop:"20px",marginLeft:"85%"}}})),Gn=Object(Tt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(Za.a)(e,["children","classes","onClose"]);return r.a.createElement(Nn.a,Object.assign({disableTypography:!0,className:a.root},l),r.a.createElement(g.a,{variant:"h6"},t),n?r.a.createElement(u.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(An.a,null)):null)})),Bn=Object(Tt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(In.a),Rn=Object(Tt.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(kn.a);function Dn(e){var t=e.viewResult,a=e.title,n=e.description,l=Pn(),c=r.a.useState(!1),i=Object(B.a)(c,2),o=i[0],s=i[1],u=function(){s(!0)},m=function(){s(!1)};return r.a.createElement("div",null,t?r.a.createElement(X.a,{testid:"saveButtonId",variant:"contained",color:"primary",size:"large",className:l.button,startIcon:r.a.createElement(Mn.a,null),onClick:u},"view Result"):r.a.createElement(X.a,{testid:"saveButtonId",variant:"contained",color:"primary",size:"large",className:l.button,startIcon:r.a.createElement(qn.a,null),onClick:u},"Save"),r.a.createElement(vn.a,{testid:"dialogId",onClose:m,"aria-labelledby":"customized-dialog-title",open:o},r.a.createElement(Gn,{testid:"dialogTitleId",id:"customized-dialog-title",onClose:m},a),r.a.createElement(Bn,{testid:"dialogContentId",dividers:!0},r.a.createElement(g.a,{testid:"typographyId",gutterBottom:!0},n)),r.a.createElement(Rn,{testid:"dialogActionsId"},r.a.createElement(X.a,{testid:"closeButtonId",autoFocus:!0,onClick:m,color:"primary"},"Close"))))}var Hn=Object(E.a)((function(e){return{root:{margin:"auto"},cardHeader:{padding:e.spacing(1,2)},list:{width:400,height:230,backgroundColor:e.palette.background.paper,overflow:"auto"},button:{margin:e.spacing(.5,0)}}}));function Ln(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))}function Wn(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))}function Fn(){var e=Hn(),t=r.a.useState([]),a=Object(B.a)(t,2),n=a[0],l=a[1],c=r.a.useState(null),i=Object(B.a)(c,2),o=i[0],s=i[1],u=r.a.useState(["Good for same length","Can compaire two sequences","Can compare more than 2 sequeneces"]),m=Object(B.a)(u,2),d=m[0],p=m[1],g=r.a.useState(["Time proportianal to O(n^2)","Easy to calculate","Time proposinal based on no of input sequences"]),E=Object(B.a)(g,2),h=E[0],b=E[1],f=["Good for same length","Can compaire two sequences","Time proportianal to O(n^2)","Easy to calculate"],w=["Can compare more than 2 sequeneces","Time proposinal based on no of input sequences"],O=Wn(n,d),C=Wn(n,h),x=function(e){return function(){var t=n.indexOf(e),a=Object(se.a)(n);-1===t?a.push(e):a.splice(t,1),l(a)}},N=function(e){return Wn(n,e).length},I=function(t,a){return r.a.createElement(Tn.a,{testid:"cardId"},r.a.createElement(wn.a,{testid:"cardHeaderId",className:e.cardHeader,title:t,subheader:"".concat(N(a),"/").concat(a.length," selected")}),r.a.createElement(T.a,{testid:"dividerId"}),r.a.createElement(v.a,{className:e.list,dense:!0,component:"div",role:"list",testid:"listId"},a.map((function(e){var t="transfer-list-all-item-".concat(e,"-label");return r.a.createElement(y.a,{testid:"listItemId",key:e,role:"listitem",button:!0,onClick:x(e)},r.a.createElement(A.a,{testid:"listItemIconId"},r.a.createElement(On.a,{testid:"checkBox2Id",checked:-1!==n.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(S.a,{id:t,primary:" ".concat(e)}))})),r.a.createElement(y.a,null)))},k={viewResult:!0,title:"Congrats!",description:"Your anser is right."},j={viewResult:!0,title:"Try again!",description:"Your anser is wrong."};return r.a.createElement("div",{className:e.root},r.a.createElement(ae.a,{container:!0,testid:"gridId",spacing:2,justify:"center",alignItems:"center",className:e.root},r.a.createElement(ae.a,{item:!0,testid:"gridItemId1"},I("Pairwise Alignment",d)),r.a.createElement(ae.a,{item:!0,testid:"gridItemId2"},r.a.createElement(ae.a,{container:!0,direction:"column",alignItems:"center",testid:"gridContainerId"},r.a.createElement(X.a,{testid:"buttonId1",variant:"outlined",size:"small",className:e.button,onClick:function(){b(h.concat(O)),p(Ln(d,O)),l(Ln(n,O))},disabled:0===O.length,"aria-label":"move selected right"},">"),r.a.createElement(X.a,{testid:"buttonId2",onClick:function e(){return d.length===f.length&&h.length===w.length?s(r.a.createElement(Dn,Object.assign({onClick:e},k))):s(r.a.createElement(Dn,Object.assign({onClick:e},j)))}},o?"Re-submit":"Submit"),o,r.a.createElement(X.a,{testid:"buttonId3",variant:"outlined",size:"small",className:e.button,onClick:function(){p(d.concat(C)),b(Ln(h,C)),l(Ln(n,C))},disabled:0===C.length,"aria-label":"move selected left"},"<"))),r.a.createElement(xn,Object.assign({},{message:"Select and move the rows into relavant alignment."},{testid:"snackbarId"})),r.a.createElement(ae.a,{item:!0,testid:"gridItemId3"},I("MSA Alignment",h))))}var zn=Object(E.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),Un=r.a.forwardRef((function(e,t){return r.a.createElement(Sn.a,Object.assign({direction:"up",ref:t},e))}));function Yn(){var e=zn(),t=r.a.useState(!1),a=Object(B.a)(t,2),n=a[0],l=a[1],c=function(){l(!1)};return r.a.createElement("div",null,r.a.createElement(X.a,{variant:"outlined",color:"primary",onClick:function(){l(!0)},testid:"buttonId"},"Knowlege Game"),r.a.createElement(vn.a,{fullScreen:!0,open:n,testid:"dialogId",onClose:c,TransitionComponent:Un},r.a.createElement(i.a,{className:e.appBar,testid:"appBarId"},r.a.createElement(p.a,{testid:"toolbarId"},r.a.createElement(u.a,{edge:"start",testid:"iconButtonId",color:"inherit",onClick:c,"aria-label":"close"},r.a.createElement(An.a,null)),r.a.createElement(g.a,{variant:"h6",className:e.title,testid:"typographyId"},"Test your knowledge of alignment"),r.a.createElement(X.a,{autoFocus:!0,color:"inherit",onClick:c,testid:"InnerButtonId"},"Close"))),r.a.createElement(Fn,null)))}var Vn=Object(E.a)((function(e){return{root:{width:"80%",marginTop:80,marginLeft:"11%",marginBottom:100},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},image:{height:255,maxWidth:400,overflow:"hidden",display:"block center",width:"100%",borderRadius:20},details:{marginTop:50}}}));function Xn(e){var t=e.HeadTitle,a=e.image,n=e.title1,l=e.title2,c=e.title3,i=e.title4,o=e.step1,s=e.step2,u=e.step3,m=e.step4,d=Vn(),p=r.a.useState(0),E=Object(B.a)(p,2),h=E[0],b=E[1],v=["".concat(n),"".concat(l),"".concat(c),"".concat(i)],y=Object(f.c)((function(e){return e.drawerOpen})),A=Object(f.b)(),S=function(){b((function(e){return e+1}))},T=function(){b((function(e){return e-1}))};return r.a.createElement("div",{className:d.root},r.a.createElement("h2",null,t),r.a.createElement(an.a,{activeStep:h,orientation:"vertical",testid:"stepperId"},v.map((function(e,t){return r.a.createElement(nn.a,{key:e,testid:"stepId"},r.a.createElement(rn.a,{testid:"stepLabelId"},e),r.a.createElement(ln.a,{testid:"stepContentId"},r.a.createElement("div",{className:d.actionsContainer},r.a.createElement("div",null,r.a.createElement("img",{className:_a.a.img,src:a,alt:""}),r.a.createElement(g.a,{testid:"typographyId"},function(e){switch(e){case 0:return"".concat(o);case 1:return"".concat(s);case 2:return"".concat(u);case 3:return"".concat(m);default:return"Unknown step"}}(t)),r.a.createElement(X.a,{testid:"backButtonId",id:"BackButtonId",disabled:0===h,onClick:T,className:d.button},"Back"),r.a.createElement(X.a,{testid:"nextButtonId",id:"NextButtonId",variant:"contained",color:"primary",onClick:S,className:d.button},h===v.length-1?"Finish":"Next")))))}))),h===v.length&&r.a.createElement(Ha.a,{square:!0,elevation:0,className:d.resetContainer,testid:"paperId"},r.a.createElement(g.a,{component:"span",testid:"finishTypographyId"},"All steps completed - you're finished"),r.a.createElement(X.a,{onClick:function(){b(0)},className:d.button,id:"ResetButtonId",testid:"resetButtonId"},"Reset"),r.a.createElement("br",null),r.a.createElement(X.a,{testid:"finalButtonId",variant:"outlined",color:"primary",onClick:function(){A(_(!y))}},"Pairwise"==="".concat(t)?"Go To Pairwise Alignment":"MSA"==="".concat(t)?"Go To MSA Alignment":"Go To Game Alignment")),r.a.createElement("div",{className:d.details},"Pairwise"==="".concat(t)?r.a.createElement(dn,{testid:"testPWDetails"}):"MSA"==="".concat(t)?r.a.createElement(fn,{testid:"testPWDetails"}):r.a.createElement(Yn,null)))}var Qn=a(149),$n=a.n(Qn),Kn=a(146),Jn=a.n(Kn),Zn=a(147),er=a.n(Zn),tr=a(148),ar=a.n(tr),nr={HeadTitle:"Pairwise",image:er.a,title1:"Select the BioInformatic Pairwise Alignment",title2:"Enter your DNA sequences",title3:"Select and enter your variables",title4:"Get final results",step1:"First click the menu icon. \n          Then you can see some menu items in leftside.\n          After that click 'PairAlign' to visit Pairwise Alignment.",step2:"This alignment needs two sequences.\n          There are many options to enter the sequences.\n          You can type your two DNA sequences, Upload text file with \n          'FASTA' format or Query from database by using 'Ensembl-id'.",step3:"First you need to select a alignment type. Then either you can choose\n          scoring method 'Basic' or 'Extended' According to that\n          you need to enter variables.\n          'Extended' is more advanced and user customizable option to user. \n          If you willing to change the values \n          you can enter new values and try the result.",step4:"If you are finished the all above steps just click \n        'Enter' to get the result. This may can get few \n          secounds to visualize the result with final alignment with matrix."},rr={HeadTitle:"MSA",image:Jn.a,title1:"Select the BioInformatic MSA Alignment",title2:"Enter your DNA sequences",title3:"Select and enter your variables",title4:"Get final results",step1:"First click the menu icon. Then you can see some menu\n        items in leftside. After that click 'MSA' to visit\n        Multiple Sequence Alignment.",step2:"This alignment can give input upto six sequences.\n        There are many options to enter the sequences.\n        You can type your two DNA sequences, Upload text file with \n        'FASTA' format or Query from database by using 'Ensembl-id'.",step3:"First you need to select 'Genome Type'. Then either you can choose \n        'Algorithm Type' Progressive Algorithm or User Defined algorithm.\n        'Progressive Algorithm' is the most standard way and \n        'User Defined algorithm' is more custamizable option to user.\n        If you willing to change the values you can \n        enter new values and try the result.",step4:"If you are finished the all above steps just click \n      'Enter' to get the result. This may can get few \n      secounds/minutes to visualize the result."},lr={HeadTitle:"Gameplay",image:ar.a,title1:"Select the Gameplay",title2:"Read the instruction",title3:"Enter your answer",title4:"Click enter to get score",step1:"First click the menu icon. \n        Then you can see some menu items in leftside. After that click \n        'Alignment Game' to play Alignment Game.",step2:"Read the instruction...",step3:"There are defaultly set values of \n         'mismatch' and 'gap'. You need to enter your answers.",step4:"If you are finished the all above steps just \n        click 'Enter' to get the result. This may can get \n        few secounds to visualize the score."};function cr(e){var t=e.children,a=e.value,n=e.index,l=Object(Za.a)(e,["children","value","index"]);return r.a.createElement(g.a,Object.assign({component:"span",testid:"typography2Id",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),a===n&&r.a.createElement(b.a,{testid:"boxId",p:3},t))}function ir(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var or=Object(E.a)((function(e){return{root:{paddingLeft:"10%",paddingRight:"10%",flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:50}}}));function sr(){var e=or(),t=r.a.useState(0),a=Object(B.a)(t,2),n=a[0],l=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement("h2",{className:_a.a.heading},"Steps"),r.a.createElement("p",{className:_a.a.subHeading},"This will help you how to enter sequences and step by stept to get the final results."),r.a.createElement(i.a,{position:"static",color:"default",testid:"appBarId"},r.a.createElement(en.a,{testid:"tabsId",value:n,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",scrollButtons:"auto","aria-label":"scrollable auto tabs example",centered:!0},r.a.createElement(tn.a,Object.assign({testid:"tabsId1",label:"Pairwise Alignment",icon:r.a.createElement(w.a,{key:"1"},r.a.createElement("img",{src:k.a,alt:"PairAlign Icon"}))},ir(0))),r.a.createElement(tn.a,Object.assign({testid:"tabsId2",label:"MSA Alignment",icon:r.a.createElement("span",null,r.a.createElement(w.a,null,r.a.createElement("img",{src:k.a,alt:"MSA Icon"})),r.a.createElement(w.a,null,r.a.createElement("img",{src:k.a,alt:"MSA Icon"})))},ir(1))),r.a.createElement(tn.a,Object.assign({testid:"tabsId3",label:"Game Play",icon:r.a.createElement($n.a,null)},ir(2))))),r.a.createElement(cr,{value:n,index:0,testid:"tabPanelId1"},r.a.createElement(Xn,Object.assign({},nr,{testid:"tabPstepByStepId1"}))),r.a.createElement(cr,{value:n,index:1,testid:"tabPanelId2"},r.a.createElement(Xn,Object.assign({},rr,{testid:"tabPstepByStepId2"}))),r.a.createElement(cr,{value:n,index:2,testid:"tabPanelId3"},r.a.createElement(Xn,Object.assign({},lr,{testid:"tabPstepByStepId3"}))))}var ur=a(275),mr=a(279),dr=a(278),pr=a(274),gr=a(276),Er=a(277),hr=Object(E.a)((function(e){return{margin:{height:e.spacing(3)}}})),br="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",fr=[{value:0},{value:25},{value:50},{value:75},{value:100}],vr=Object(Tt.a)({root:{color:"#3880ff",height:2,padding:"15px 0"},thumb:{height:28,width:28,backgroundColor:"#fff",boxShadow:br,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:br}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(ue.a);function yr(e){var t=hr(),a=(Object(f.b)(),r.a.useState(75)),n=Object(B.a)(a,2),l=n[0],c=n[1];return r.a.createElement("div",{className:t.margin},r.a.createElement(vr,{testid:"IOSSliderId","aria-label":"ios slider",marks:fr,valueLabelDisplay:"on",value:l,onChange:function(e,t){c(t)}}))}var Ar=Object(E.a)((function(e){return{table:{},root:{paddingLeft:"20%",paddingRight:"20%",flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,marginTop:50,paddingBottom:50},position:{marginTop:"20px",marginLeft:"85%"}}}));function Sr(e,t){return{name:e,rate:t}}var Tr=[Sr("Atraction of website",r.a.createElement(yr,null)),Sr("Satistification of fuctionalities",r.a.createElement(yr,null)),Sr("Satistification of visualizing the result",r.a.createElement(yr,null)),Sr("Satistification of response time",r.a.createElement(yr,null))],wr={title:"Thank you!",description:"This help us to imorove our website better in the future."};function Or(){var e=Ar();return r.a.createElement("div",{className:e.root},r.a.createElement("h2",{className:_a.a.heading},"Give us feedback"),r.a.createElement("p",{className:_a.a.subHeading},"We are happy to have your valueble feedback to improve our website better."),r.a.createElement(pr.a,{testid:"tableContainerId",component:Ha.a},r.a.createElement(ur.a,{testid:"tableId",className:e.table,"aria-label":"caption table"},r.a.createElement("caption",null,"We are happy to get your feedback."),r.a.createElement(gr.a,{testid:"tableHeadId"},r.a.createElement(Er.a,{testid:"tableRowId"},r.a.createElement(dr.a,{testid:"tableCellId1"},"Facilities"),r.a.createElement(dr.a,{testid:"tableCellId2",align:"right"},"Ratings"))),r.a.createElement(mr.a,{testid:"tableBodyId"},Tr.map((function(e){return r.a.createElement(Er.a,{testid:"tableRowId2",key:e.name},r.a.createElement(dr.a,{testid:"tableCellId3",component:"th",scope:"row"},e.name),r.a.createElement(dr.a,{testid:"tableCellId4",align:"right"},e.rate))}))))),r.a.createElement("div",{className:e.position},r.a.createElement(Dn,wr)))}function Cr(){return r.a.createElement("div",null,r.a.createElement(Ja,null),r.a.createElement(T.a,null),r.a.createElement(sr,null),r.a.createElement(Or,null))}var xr=Object(E.a)((function(e){return{avatar:{height:"25px",width:"25px",fontSize:"14px"},A:{color:"white",backgroundColor:"red"},C:{color:"white",backgroundColor:"blue"},G:{color:"white",backgroundColor:"purple"},T:{color:"white",backgroundColor:"green"},ga:{color:"black",backgroundColor:"black"},e:{color:"black",backgroundColor:"black"}}}));function Nr(e){var t=xr(),a=e.index,n=e.base;return r.a.createElement(nt.a,{variant:"square",id:a,className:"".concat(t.avatar," ").concat(t[n])},n)}var Ir=a(151),kr=a.n(Ir),jr=a(150),qr=a.n(jr),_r=Object(Tt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(Za.a)(e,["children","classes","onClose"]);return r.a.createElement(Nn.a,Object.assign({disableTypography:!0,className:a.root},l),r.a.createElement(g.a,{variant:"h6"},t),n?r.a.createElement(u.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(An.a,null)):null)})),Mr=Object(Tt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(In.a),Pr=Object(Tt.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(kn.a);function Gr(){var e=r.a.useState(!1),t=Object(B.a)(e,2),a=t[0],n=t[1],l=function(){n(!1)};return r.a.createElement("div",null,r.a.createElement(X.a,{testid:"openBtn",style:{fontWeight:"bolder"},variant:"outlined",color:"primary",onClick:function(){n(!0)}},"instructions"),r.a.createElement(vn.a,{testid:"dialog",onClose:l,"aria-labelledby":"customized-dialog-title",open:a},r.a.createElement(_r,{id:"customized-dialog-title",onClose:l},"How to Play"),r.a.createElement(Mr,{dividers:!0},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h3",null,"Click on an element in the sequence to move the sub sequence starting from that point, to the right.")),r.a.createElement("li",null,r.a.createElement("h3",{style:{fontWeight:"bolder"}},"Try to avoid unnecessary gaps in the middle of the sequences.")),r.a.createElement("li",null,r.a.createElement("h3",null,"Trailing gaps cannot be removed.")),r.a.createElement("li",null,r.a.createElement("h3",{style:{fontWeight:"bolder"}},"Increase the identity as much as possible.")),r.a.createElement("li",null,r.a.createElement("h3",null,"Change the Match,Mismatch and Gap scores to get a higher score.")),r.a.createElement("li",null,r.a.createElement("h3",{style:{fontWeight:"bolder"}},"You can go to a best identity state you achieved at any time"))),r.a.createElement("h3",{style:{color:"#af9617"}},"Hint: start from the left")),r.a.createElement(Pr,null,r.a.createElement(X.a,{autoFocus:!0,onClick:l,testid:"closeBtn",color:"primary"},"OK"))))}var Br=Object(E.a)((function(){return{title:{fontSize:24}}}));function Rr(){var e=Br();return r.a.createElement("div",null,r.a.createElement("h2",{className:e.title},"GamePlay"),r.a.createElement(Gr,null),r.a.createElement("br",null),r.a.createElement("h3",null,"Change input values for Match score, Mismatch penalty and Gap penalty on your preference"),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(ke,null))))}var Dr=Object(E.a)((function(){return{table:{maxWidth:1100,overflowX:"auto",display:"block"},iconTable:{display:"inline-block",float:"left"}}}));function Hr(e){var t=Dr();return r.a.createElement("div",null,r.a.createElement("table",{className:t.iconTable},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{minWidth:50}},r.a.createElement(w.a,null,r.a.createElement("img",{src:k.a,alt:"seq 1"})))),r.a.createElement("tr",null,r.a.createElement("td",{style:{minWidth:50}},r.a.createElement(w.a,null,r.a.createElement("img",{src:k.a,alt:"seq 2"})))))),r.a.createElement("table",{className:t.table},r.a.createElement("tbody",null,r.a.createElement("tr",null,e.align1),r.a.createElement("tr",null,e.align2),r.a.createElement("tr",null,e.indexLine))))}var Lr=Object(E.a)((function(e){return{labe:{fontWeight:"bolder"},value:{fontWeight:"normal",paddingLeft:10,paddingRight:30}}}));function Wr(e){var t=Lr();return r.a.createElement("div",{style:{float:"left",paddingLeft:60,fontSize:16}},r.a.createElement(V.a,{title:"Maximum identity achieved so far",placement:"top",arrow:!0},r.a.createElement("label",{className:t.labe,style:{float:"left"}},"Best Identity:",r.a.createElement("label",{className:t.value},e.bestIdentity.toFixed(3)))),r.a.createElement(V.a,{title:"Maximum matches achieved so far",placement:"top",arrow:!0},r.a.createElement("label",{className:t.labe,style:{float:"left"}},"Best Matches:",r.a.createElement("label",{className:t.value},e.bestMatch))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{className:t.labe},"Current Identity",r.a.createElement("label",{className:t.value},e.identity.toFixed(3))),r.a.createElement("label",{className:t.labe},"Matches:",r.a.createElement("label",{className:t.value},e.match)),r.a.createElement("label",{className:t.labe},"Mismatches:",r.a.createElement("label",{className:t.value},e.mismatch)),r.a.createElement("label",{className:t.labe},"Gaps:",r.a.createElement("label",{className:t.value},e.gap)))}var Fr=Object(E.a)((function(){return{seq:{minWidth:25,minHeight:25,padding:4,borderRadius:2,backgroundColor:"#0a22536e"},match:{minWidth:25,minHeight:25,padding:4,borderRadius:2,backgroundColor:"lightgreen"},gameplay:{borderRadius:"10px",padding:20},box:{borderRadius:"10px",padding:10,paddingBottom:40,paddingTop:40},resetBtn:{marginRight:20,fontWeight:"bolder"},submitBtn:{fontWeight:"bolder"},bestStateBtn:{fontWeight:"bolder",padding:10}}}));function zr(e){var t=Fr(),a=e.input,l=Object(n.useState)(e.input),c=Object(B.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(B.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)({matches:0,identity:0,alignment:{}}),g=Object(B.a)(p,2),E=g[0],h=g[1];Object(n.useEffect)((function(){o(e.input),h({matches:0,identity:0,alignment:{}})}),[e.input]);for(var f,v=[],y=[],A=[],S=0,T=0,O=0,C=function(e){var a=e,n="-"===i.seqA.charAt(e)?"ga":i.seqA.charAt(e),l="ga"===n?"Remove Gap":"e"===n?"end":"move --\x3e",c="-"===i.seqB.charAt(e)?"ga":i.seqB.charAt(e),s="ga"===c?"Remove Gap":"e"===c?"end":"move --\x3e",u=0;"-"===i.seqA.charAt(e)||"-"===i.seqB.charAt(e)||"e"===i.seqA.charAt(e)||"e"===i.seqB.charAt(e)?O+=1:i.seqA.charAt(e)===i.seqB.charAt(e)?(S+=1,u=1):T+=1,v.push(r.a.createElement("td",{key:a},r.a.createElement("h4",null,a+1))),y.push(r.a.createElement("td",{key:a,testid:"outputSeqA"},r.a.createElement(V.a,{title:l,placement:"top",arrow:!0},r.a.createElement("span",null,r.a.createElement(X.a,{className:1===u?t.match:t.seq,testid:"A"+a,variant:"contained",size:"small",onClick:function(){return function(e){d(!0);var t=i.seqA.length-1;"-"===i.seqA.charAt(e)?"e"===i.seqB.charAt(t)?o({seqA:i.seqA.substring(0,e)+i.seqA.substring(e+1),seqB:i.seqB.substring(0,t)}):o({seqA:i.seqA.substring(0,e)+i.seqA.substring(e+1)+"e",seqB:i.seqB}):"e"===i.seqA.charAt(t)?o({seqA:i.seqA.substring(0,e)+"-"+i.seqA.substring(e,t),seqB:i.seqB}):o({seqA:i.seqA.substring(0,e)+"-"+i.seqA.substring(e),seqB:i.seqB+"e"})}(a)},disabled:"e"===n,style:"e"===n?{backgroundColor:"#0a22536e"}:{},label:i.seqA.charAt(e)},r.a.createElement(Nr,{index:a,base:n})))))),A.push(r.a.createElement("td",{key:a,testid:"outputSeqB"},r.a.createElement(V.a,{title:s,placement:"bottom",arrow:!0},r.a.createElement("span",null,r.a.createElement(X.a,{className:1===u?t.match:t.seq,testid:"B"+a,variant:"contained",size:"small",onClick:function(){return function(e){d(!0);var t=i.seqA.length-1;"-"===i.seqB.charAt(e)?"e"===i.seqA.charAt(t)?o({seqA:i.seqA.substring(0,t),seqB:i.seqB.substring(0,e)+i.seqB.substring(e+1)}):o({seqA:i.seqA,seqB:i.seqB.substring(0,e)+i.seqB.substring(e+1)+"e"}):"e"===i.seqB.charAt(t)?o({seqA:i.seqA,seqB:i.seqB.substring(0,e)+"-"+i.seqB.substring(e,t)}):o({seqA:i.seqA+"e",seqB:i.seqB.substring(0,e)+"-"+i.seqB.substring(e)})}(a)},disabled:"e"===c,style:"e"===c?{backgroundColor:"#0a22536e"}:{},label:i.seqB.charAt(e)},r.a.createElement(Nr,{index:a,base:c}))))))},x=0;x<i.seqA.length;x++)C(x);(f=S/i.seqA.length)>E.identity&&h({matches:S,identity:f,alignment:i});var N=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(i);return r.a.createElement(b.a,{className:t.gameplay},r.a.createElement(Rr,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{boxShadow:6,className:t.box},r.a.createElement("div",null,r.a.createElement("h3",null,"Sequences can be replaced at any time by the state with the maximum identity you have achieved.",r.a.createElement("br",null),"Feel free to play and get the maximum identity possible.")),r.a.createElement(V.a,{title:"Go to a state with maximum identity achieved so far",placement:"bottom",arrow:!0},r.a.createElement(X.a,{testid:"bestIdentityBtn",className:t.bestStateBtn,onClick:function(){o(E.alignment),d(!0)}},"Go to a your best identity state")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Wr,{match:S,mismatch:T,gap:O,identity:f,bestMatch:E.matches,bestIdentity:E.identity}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Hr,{align1:y,align2:A,indexLine:v}),r.a.createElement("div",{testid:"checkState",value:i}),r.a.createElement("br",null),r.a.createElement(X.a,{testid:"prevBtn",className:t.resetBtn,variant:"outlined",color:"primary",onClick:function(){o(N),d(!1)},disabled:!m,endIcon:r.a.createElement(qr.a,null)},"back"),r.a.createElement(X.a,{testid:"resetBtn",className:t.resetBtn,variant:"outlined",color:"primary",onClick:function(){o(a),d(!0)},endIcon:r.a.createElement(kr.a,null)},"Reset"),r.a.createElement(X.a,{testid:"submitBtn",variant:"outlined",className:t.submitBtn,color:"primary",onClick:function(){e.fetchAlign({alignA:i.seqA,alignB:i.seqB,identity:f})},endIcon:r.a.createElement(w.a,null,"send")},"Submit")))}function Ur(e){var t=Object(f.b)(),a=/^[AGCT-]+$/,l=Object(n.useState)(!1),c=Object(B.a)(l,2),i=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement(K.a,{testid:"inputfield",multiline:!0,rowsMax:4,placeholder:"DNA Sequence",style:{width:"100%"},value:e.value,onChange:function(n){t(e.inputAction(n.target.value.trim())),n.target.value.match(a)?o(!1):o(!0)},inputProps:{spellCheck:"false"},error:i,helperText:i?"Invalid DNA sequence":null}))}var Yr=function(e){return{type:"SET_SEQ_A",payload:e}},Vr=function(e){return{type:"SET_SEQ_B",payload:e}};function Xr(e){var t,a=Object(f.b)(),l=/^[AGCT]+$/,c=Object(n.useState)(!1),i=Object(B.a)(c,2),o=i[0],s=i[1],u=function(){var n=Object(Y.a)(U.a.mark((function n(){var r,c,i;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.result,n.next=3,Q(r);case 3:c=n.sent,i=c.sequence.toUpperCase().trim(),a(e.inputAction(i)),i.match(l)?s(!1):s(!0);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(e){t.abort(),console.log(e)};return r.a.createElement("div",{className:"upload-expense"},r.a.createElement(X.a,{variant:"contained",color:"primary",component:"label",size:"small",testid:"uploadbtn"},"Upload Text File",r.a.createElement("input",{type:"file",id:"file",testid:"file",className:"input-file",accept:".txt",onChange:function(e){var a;(a=e.target.files[0])&&((t=new FileReader).onerror=m,t.onloadend=u,"txt"===a.name.split(".").pop().toLowerCase()?t.readAsText(a):console.log("invalid file type"))},style:{display:"none"}})),o?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#ea0909"}},"invalid input")):null,r.a.createElement("button",{style:{display:"none"},testid:"handleErrorTest",onClick:function(){return m()}}))}function Qr(){return r.a.createElement("div",null,r.a.createElement(ae.a,{container:!0,direction:"column",spacing:3},r.a.createElement(ae.a,{item:!0},r.a.createElement("h3",null,"Input Sequence 1"),r.a.createElement("div",{testid:"file1"},r.a.createElement(Xr,{inputAction:Yr,value:Object(f.c)((function(e){return e.GameSeqA}))})),r.a.createElement("h3",null,"or"),r.a.createElement("h3",null,"Type sequence in the input field"),r.a.createElement(Ur,{inputAction:Yr,value:Object(f.c)((function(e){return e.GameSeqA}))})),r.a.createElement(ae.a,{item:!0},r.a.createElement("h3",null,"Input Sequence 2"),r.a.createElement(Xr,{inputAction:Vr,value:Object(f.c)((function(e){return e.GameSeqB}))}),r.a.createElement("h3",null,"or"),r.a.createElement("h3",null,"Type sequence in the input field"),r.a.createElement(Ur,{inputAction:Vr,value:Object(f.c)((function(e){return e.GameSeqB}))}))))}var $r=a(110),Kr=a.n($r),Jr=a(111),Zr=a.n(Jr),el=a(112),tl=a.n(el),al=Object(E.a)((function(){return{A:{color:"red"},C:{color:"blue"},G:{color:"purple"},T:{color:"green"},label:{color:"#7984d3de"},scLabel:{color:"#c7ba78de",paddingRight:5,fontWeight:"bolder",fontSize:17},sc:{color:"#d3d6f0",paddingRight:30,fontWeight:"bolder",fontSize:16},box:{backgroundColor:"#141938",color:"#e9e3e3de",borderRadius:"10px",padding:30,paddingTop:10,paddingBottom:40},table:{marginLeft:"auto",marginRight:"auto"},tablerow:{maxWidth:1100,overflowX:"scroll",display:"block",marginLeft:"auto",marginRight:"auto"}}}));function nl(e){for(var t=al(),a=e.aligns.alignA,n=e.aligns.alignB,l=e.aligns.match,c=e.aligns.mismatch,i=e.aligns.gap,o=e.aligns.identity,s=[],u=0,m=0,d=0,p=0,g=0;g<a.length;g++)"-"===a.charAt(g)||"-"===n.charAt(g)||"e"===a.charAt(g)||"e"===n.charAt(g)?(u+=i,p+=i,s.push({type:r.a.createElement(Kr.a,null),index:g+1})):a.charAt(g)===n.charAt(g)?(u+=l,m+=l,s.push({type:r.a.createElement(Zr.a,{className:t[a.charAt(g)]}),index:g+1})):(u+=c,d+=c,s.push({type:r.a.createElement(tl.a,{style:{color:"#9b8989"}}),index:g+1}));var E=s.map((function(e){return r.a.createElement("td",{key:e.index},e.type,r.a.createElement("h4",{style:{color:"#868dac"}},e.index))}));return r.a.createElement(b.a,{className:t.box},r.a.createElement("h2",null,"Result"),r.a.createElement("h3",null,"Alignment Status"),r.a.createElement("table",{className:t.tablerow},r.a.createElement("tbody",null,r.a.createElement("tr",null,E))),r.a.createElement("table",{className:t.table},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:t.label},r.a.createElement("h4",null,"Match")),r.a.createElement("td",null,r.a.createElement(Zr.a,{style:{color:"#787d94",marginRight:15}})),r.a.createElement("td",{className:t.label},r.a.createElement("h4",null,"Mismatch")),r.a.createElement("td",null,r.a.createElement(tl.a,{style:{color:"#9b8989",marginRight:15}})),r.a.createElement("td",{className:t.label},r.a.createElement("h4",null,"Gap")),r.a.createElement("td",null,r.a.createElement(Kr.a,{style:{color:"#e9e3e3de"}}))))),r.a.createElement("label",{className:t.scLabel},"Identity",r.a.createElement("label",{className:t.sc,style:{paddingLeft:10,paddingRight:0}},o.toFixed(3))),r.a.createElement("h3",null,"Alignment Score"),r.a.createElement("table",{className:t.table},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:t.scLabel},"Total Score"),r.a.createElement("td",{className:t.sc,testid:"score",value:u},u),r.a.createElement("td",{className:t.scLabel},"Match Score"),r.a.createElement("td",{className:t.sc,testid:"matchSc",value:m},m),r.a.createElement("td",{className:t.scLabel},"Mismatch Penalty"),r.a.createElement("td",{className:t.sc,testid:"mismatchSc",value:d},d),r.a.createElement("td",{className:t.scLabel},"Gap Penalty"),r.a.createElement("td",{className:t.sc,testid:"gapSc",value:p},p)))))}var rl=Object(E.a)((function(e){return{box:{borderRadius:"10px",padding:5},line:{fontWeight:"bolder"}}}));function ll(){var e=rl();return r.a.createElement(b.a,{boxShadow:6,className:e.box},r.a.createElement("h3",null,"Introduction"),r.a.createElement("div",{className:e.line},r.a.createElement("p",null,"In this game you have to align two sequences to get the same characters to the same position-which indicate matches in the alignment of two sequences."),r.a.createElement("p",null,"Identity of the alignment is calculated as: no of matches/length of alignment. Try to acheive maximum identity by aligning more matches with lesser gaps."),r.a.createElement("p",null,"Input sequence should only contain 'A' 'C' 'G' 'T' characters.")))}function cl(){var e=r.a.useState(void 0),t=Object(B.a)(e,2),a=t[0],n=t[1],l=r.a.useState(void 0),c=Object(B.a)(l,2),i=c[0],o=c[1],s=r.a.useState(!1),u=Object(B.a)(s,2),m=u[0],d=u[1],p=Object(f.c)((function(e){return e.GameSeqA})),g=Object(f.c)((function(e){return e.GameSeqB})),E=Object(f.c)((function(e){return e.matchScore})),h=Object(f.c)((function(e){return e.mismatchPenalty})),b=Object(f.c)((function(e){return e.gapPenalty})),v=/^[AGCT]+$/,y=!1;function A(e){E>0&&h<0&&b<0?(o({alignA:e.alignA,alignB:e.alignB,identity:e.identity,match:E,mismatch:h,gap:b}),!0===m&&d(!1)):d(!0)}return p.match(v)&&g.match(v)||(y=!0),r.a.createElement("div",null,r.a.createElement("h2",null,"Alignment Game"),r.a.createElement(ll,null),r.a.createElement(Qr,null),r.a.createElement("br",null),r.a.createElement(X.a,{testid:"submitBtn",variant:"outlined",color:"secondary",disabled:!!y,onClick:function(){if(o(void 0),g.length>0&&p.length>g.length){var e="e".repeat(p.length-g.length);n({seqA:p,seqB:g+e})}else if(p.length>0&&g.length>p.length){var t="e".repeat(g.length-p.length);n({seqA:p+t,seqB:g})}else n({seqA:p,seqB:g})}},"Submit"),y?r.a.createElement("div",null,r.a.createElement("span",{style:{color:"#ea0909"}},"invalid input")):null,r.a.createElement("br",null),r.a.createElement("br",null),a?r.a.createElement(zr,{input:a,fetchAlign:A}):r.a.createElement("div",{testid:"inputNotSet"}),r.a.createElement("button",{style:{display:"none"},testid:"testCallback",onClick:A}),m?r.a.createElement("div",{testid:"testscore"},r.a.createElement("h3",{style:{color:"#ea0909"}},"INVALID SCORING SCHEMA. SUBMIT AGAIN WITH VALID SCORE/PENALTY")):i?r.a.createElement(nl,{aligns:i}):r.a.createElement("div",{testid:"alignmentNotSet"}))}var il=a(152),ol=a.n(il),sl=Object(E.a)((function(e){return{message:{color:"white",backgroundColor:"#F44336",borderRadius:10,fontSize:15,height:20},icon:{color:"white"}}}));function ul(){var e=sl(),t=Object(f.b)(),a=Object(f.c)((function(e){return e.snackBar})),n=function(e,a){console.log("closing"),"clickaway"!==a&&t({type:"CLOSE_SNACKBAR",payload:{}})};return r.a.createElement("div",null,r.a.createElement(Cn.a,{open:a.open,autoHideDuration:6e3,onClose:n},r.a.createElement(b.a,null,r.a.createElement("table",{className:e.message},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:50}},r.a.createElement("div",null,r.a.createElement(ol.a,{fontSize:"small"}))),r.a.createElement("td",null,r.a.createElement("div",null,a.message)),r.a.createElement("td",null,r.a.createElement(u.a,{onClick:n,className:e.icon},r.a.createElement(An.a,{fontSize:"small"})))))))))}function ml(){var e;switch(Object(f.c)((function(e){return e.mode}))){case 0:e=r.a.createElement(Cr,null);break;case 1:e=r.a.createElement(Lt,null);break;case 2:e=r.a.createElement(ja,null);break;case 3:e=r.a.createElement(cl,null);break;default:e="Other Mode"}return r.a.createElement("div",{style:{padding:5}},e,r.a.createElement(ul,null))}var dl=Object(E.a)((function(e){return{root:{display:"flex"},drawer:{},appBar:{},menuButton:{marginRight:e.spacing(2)},toolbar:e.mixins.toolbar,drawerPaper:{width:300},content:{flexGrow:1,padding:e.spacing(1)},headerBox:{width:"100%"}}}));var pl=function(e){var t=e.container,a=Object(f.b)(),n=dl(),l=Object(h.a)(),c=Object(f.c)((function(e){return e.drawerOpen})),m=function(){a(_(!c))};return r.a.createElement("div",{className:n.root},r.a.createElement(o.a,null),r.a.createElement(i.a,{position:"fixed",className:n.appBar},r.a.createElement(p.a,null,r.a.createElement(u.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,className:n.menuButton},r.a.createElement(d.a,null)),r.a.createElement(b.a,{className:n.headerBox},r.a.createElement(g.a,{variant:"h6",noWrap:!0},"BioViz Web Client")))),r.a.createElement("nav",{className:n.drawer,"aria-label":"mailbox folders"},r.a.createElement(s.a,{container:t,variant:"temporary",anchor:"rtl"===l.direction?"right":"left",open:c,onClose:m,classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0}},r.a.createElement(G,{closeDrawer:m}))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(b.a,null,r.a.createElement(ml,null))))},gl=a(154),El=a(282),hl=function(){var e=Object(f.c)((function(e){return e.currentTheme}));"dark"!==e&&"light"!==e&&(e="light");var t=Object(gl.a)({palette:{type:e}});return document.title="BioViz Web Client",r.a.createElement("div",null,r.a.createElement(El.a,{theme:t},r.a.createElement(pl,null)))};var bl=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(hl,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fl=a(65),vl={seqA:{seq:"CAACGGCAGCTCACGAGGCCTAACCATATCACGCGAGTGGCAAGTCACATTCCTGAGTCTCAACGAGTCAATTTCTAGACACATAGGGTC",range:[5,30],name:"sequence a"},seqB:{seq:"ACTCAAGGCGGTCCTCAAATATGCCTGCCACAGCTACACAGGTGTCTATTAAGTCGAGCGTACTCGTTCCACCGGCGCCGTAAAAACCGG",range:[5,30],name:"sequence b"}},yl={AA:1,CC:1,GG:1,TT:1,CA:-1,GA:-1,TA:-1,GC:-1,TC:-1,TG:-1},Al=[{key:0,seq:"TCGAATTCCAAGACTAATAGACAGAAACAA",range:[5,30],name:"sequence 1"},{key:1,seq:"GTATTAAGATAAGACACAACAACAAAATTT",range:[5,30],name:"sequence 2"},{key:2,seq:"CAAATACGTCTAACGCATAATTTGATAAAG",range:[5,30],name:"sequence 3"},{key:3,seq:"GTAAACAAATACCCACCTGTCAATAATAGA",range:[5,30],name:"sequence 4"},{key:4,seq:"TGAAAACACATAAGCTCAATTATTTAATAG",range:[5,30],name:"sequence 5"},{key:5,seq:"GTAGGACAAAATACACCCAGTATTAAAAAA",range:[5,30],name:"sequence 6"}],Sl=Object(fl.b)({drawerOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRAWER_OPEN":return t.payload;default:return e}},currentTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return t.payload;default:return e}},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODE":return t.payload;default:return e}},genomeType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DNA",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GENOME_TYPE":return t.payload;default:return e}},P1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl.seqA,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_P1":var a=Object(gt.a)({},e);return a.seq=t.payload,a.range=[Math.min(1,t.payload.length),Math.min(100,t.payload.length)],a;case"SET_P1_RANGE":var n=Object(gt.a)({},e);return n.range=t.payload,n;case"SET_P1_NAME":var r=Object(gt.a)({},e);return r.name=t.payload,r;default:return e}},P2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl.seqB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_P2":var a=Object(gt.a)({},e);return a.seq=t.payload,a.range=[Math.min(1,t.payload.length),Math.min(100,t.payload.length)],a;case"SET_P2_RANGE":var n=Object(gt.a)({},e);return n.range=t.payload,n;case"SET_P2_NAME":var r=Object(gt.a)({},e);return r.name=t.payload,r;default:return e}},matchScore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MATCH":return t.payload;default:return e}},mismatchPenalty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MISMATCH":return t.payload;default:return e}},gapPenalty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAP":return t.payload;default:return e}},gapOpenPenalty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAP_OPEN":return t.payload;default:return e}},gapExtendPenalty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAP_EXTEND":return t.payload;default:return e}},scoringMethod:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BASIC",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCORING_METHOD":return t.payload;default:return e}},tracebackPriority:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LOWROAD",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRACEBACK_PRIORITY":return t.payload;default:return e}},similarityMatrixName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SIMILARITY_MATRIX_NAME":return t.payload;case"SET_GENOME_TYPE":return"DEFAULT";default:return e}},DNASimilarityMatrix:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_DNA_SIMILARIY_MATRIX":var a=Object(gt.a)({},e);return a[t.payload.identifier]=t.payload.value,a;default:return e}},MSASeq:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Al,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_MSA":var a=Object(se.a)(e),n=a[a.length-1].key+1;return[].concat(Object(se.a)(a),[{key:n,seq:"",range:[0,0],name:"sequence ".concat(n+1)}]);case"SET_MSA":for(var r=Object(se.a)(e),l=0;l<r.length;l++)t.payload.key===r[l].key&&(r[l].seq=t.payload.seq,r[l].range=[Math.min(1,t.payload.seq.length),Math.min(100,t.payload.seq.length)]);return r;case"SET_MSA_RANGE":for(var c=Object(se.a)(e),i=0;i<c.length;i++)t.payload.key===c[i].key&&(c[i].range=t.payload.range);return c;case"SET_MSA_NAME":for(var o=Object(se.a)(e),s=0;s<o.length;s++)t.payload.key===o[s].key&&(o[s].name=t.payload.name);return o;case"REMOVE_MSA":if(1===e.length)return e;var u=e.filter((function(e){return e.key!==t.payload.key}));return u;default:return e}},pAlgo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GLOBAL",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_P_ALGO":return t.payload;default:return e}},msaAlgo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSA_ALGO":return t.payload;default:return e}},msaOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MSA_ORDER":return t.payload;case"SET_MODE":case"ADD_NEW_MSA":case"SET_MSA":case"REMOVE_MSA":case"SET_MSA_ALGO":return[];default:return e}},GameSeqA:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AGCATACGCATCA",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEQ_A":return t.payload;default:return e}},GameSeqB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GCATCGACTCGCATCG",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEQ_B":return t.payload;default:return e}},snackBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,message:"test"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SNACKBAR_MESSAGE":var a=Object(gt.a)({},e);return a.message=t.payload.message,a.open=!0,a;case"CLOSE_SNACKBAR":var n=Object(gt.a)({},e);return n.open=!1,n;default:return e}}}),Tl=Object(fl.c)(Sl,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(f.a,{store:Tl},r.a.createElement(r.a.StrictMode,null,r.a.createElement(bl,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,a){e.exports={image:"image_image__Kamfe",img:"image_img__OLJYD",heading:"image_heading__30QLD",subHeading:"image_subHeading__3wewl",title:"image_title__22ENT",subTitle:"image_subTitle__1k-CS",servicesBackground:"image_servicesBackground__2Wxzm"}},43:function(e,t,a){e.exports=a.p+"static/media/dna.701c38d5.svg"},56:function(e,t,a){e.exports={"genome-base":"GenomeStyles_genome-base__3ci0f",gap:"GenomeStyles_gap__3Cf9f","DNA-A":"GenomeStyles_DNA-A__2QTRv","DNA-C":"GenomeStyles_DNA-C__1P1AQ","DNA-G":"GenomeStyles_DNA-G__2qHF3","DNA-T":"GenomeStyles_DNA-T__2H0NW","PROTEIN-A":"GenomeStyles_PROTEIN-A__2CwA1","PROTEIN-I":"GenomeStyles_PROTEIN-I__1eHsc","PROTEIN-L":"GenomeStyles_PROTEIN-L__3CCS7","PROTEIN-F":"GenomeStyles_PROTEIN-F__Mm_py","PROTEIN-W":"GenomeStyles_PROTEIN-W__aIXc0","PROTEIN-V":"GenomeStyles_PROTEIN-V__p7ifV","PROTEIN-M":"GenomeStyles_PROTEIN-M__MtEP-","PROTEIN-K":"GenomeStyles_PROTEIN-K__2wnwc","PROTEIN-R":"GenomeStyles_PROTEIN-R__3LIyi","PROTEIN-E":"GenomeStyles_PROTEIN-E__2NrqQ","PROTEIN-D":"GenomeStyles_PROTEIN-D__1FEVM","PROTEIN-N":"GenomeStyles_PROTEIN-N__2fc6x","PROTEIN-Q":"GenomeStyles_PROTEIN-Q__1QMwv","PROTEIN-S":"GenomeStyles_PROTEIN-S__3hOSz","PROTEIN-T":"GenomeStyles_PROTEIN-T__2o3Mb","PROTEIN-C":"GenomeStyles_PROTEIN-C__2G_LI","PROTEIN-G":"GenomeStyles_PROTEIN-G__3jijP","PROTEIN-P":"GenomeStyles_PROTEIN-P__xc1Ew"}}},[[178,1,2]]]);
//# sourceMappingURL=main.64f21956.chunk.js.map